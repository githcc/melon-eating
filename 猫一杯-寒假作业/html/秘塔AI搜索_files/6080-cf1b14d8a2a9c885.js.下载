(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6080],{88525:function(e,n,t){"use strict";t.d(n,{K:function(){return MetaCenterBox}});var a=t(35029),r=t(57437),o=t(25577),MetaCenterBox=function(e){return(0,r.jsx)(o.Z,(0,a._)({display:"flex",justifyContent:"center",alignItems:"center"},e))}},85480:function(e,n,t){"use strict";t.d(n,{Mj:function(){return h},OX:function(){return v},ys:function(){return ItemButton}});var a=t(86840),r=t(35029),o=t(88965),i=t(8001),s=t(57437),c=t(96521),l=t(73724);t(2265);var u=t(83629),d=t.n(u),f=t(42744),m=t.n(f),v=[{label:"不限",value:c.RM.ALL},{label:"中文库",value:c.RM.ZH},{label:"英文库",value:c.RM.EN}],h=[{label:"中文",value:"zh"},{label:"English",value:"en"}];function ItemButton(e){var n,t=e.active,c=void 0!==t&&t,u=e.variant,f=void 0===u?"default":u,v=e.children,h=e.className,p=(0,i._)(e,["active","variant","children","className"]);return(0,s.jsx)(l.Z,(0,o._)((0,r._)({className:m()(d()["item-button"],(n={},(0,a._)(n,d()["primary-btn"],"primary"===f),(0,a._)(n,d()["active-item-button"],c),n),h)},p),{children:v}))}},63090:function(e,n,t){"use strict";t.d(n,{o:function(){return o},g:function(){return SearchDomainTabs}});var a,r,o,i=t(86840),s=t(35029),c=t(88965),l=t(8001),u=t(81763),d=t(57437),f=t(25577),m=t(92277),v=t(53305),h=t(43226),p=t(88525),g=t(82748),x=t(26715),_=t.n(x),b=t(96521),C=t(90952);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var arrow_down_2=function(e){return C.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:9,height:7,fill:"none",viewBox:"0 0 9 7"},e),r||(r=C.createElement("path",{fill:"currentColor",d:"M1.095.3h6.67a.665.665 0 0 1 .495 1.11L4.962 5.811a.666.666 0 0 1-1.062 0L.564 1.363A.664.664 0 0 1 1.095.301"})))},y=t(42744),w=t.n(y),L=t(74980),j=t.n(L),S=t(2265),k=t(98499),A=t(8088),R=t(35069);function AttachDrawer(e){var n=e.open,t=e.children,a=e.onOpenChange,r=e.sx,o=e.direction,i=e.containsArea,m=void 0===i?[]:i,v=(0,l._)(e,["open","children","onOpenChange","sx","direction","containsArea"]),h=(0,u._)((0,g.U8)(n,!1,{isControlled:!1,onChanged:a}),2),p=h[0],x=h[1],_=(0,S.useRef)(null);return(0,g.g4)(p,function(){x(!1)},[_].concat((0,k._)(Array.isArray(m)?m:[m]))),(0,d.jsx)(f.Z,(0,c._)((0,s._)({className:"attach-drawer-root",sx:(0,R.Vc)({pointerEvents:"none",overflow:"hidden"},r),ref:_},v),{children:(0,d.jsx)(A.Z,{in:p,direction:void 0===o?"up":o,container:_.current,children:(0,d.jsx)(f.Z,{className:"attach-drawer-animation-layer",sx:(0,R.Vc)({pointerEvents:"auto",bgcolor:"white"}),children:t})})}))}var M=t(73328),E=t(85480),N=t(11607),B=t(6732),O=t(20595);function SearchDomainTabs(e){var n=e.className,t=e.isH5,a=e.activeTab,r=(e.activeLanguage,e.suffixSlot),o=e.prefixSlot,m=(0,l._)(e,["className","isH5","activeTab","activeLanguage","suffixSlot","prefixSlot"]),p=(0,u._)((0,g.U8)(a,0,{isControlled:!1}),2),x=p[0],_=p[1],C=(0,u._)((0,S.useState)(!0),2),y=C[0],L=C[1],k=(0,u._)(S.useState(null),2),A=k[0],R=k[1],M=(0,S.useContext)(O.HO),P=(0,S.useRef)(null),U=(0,u._)((0,S.useState)(!1),2),H=U[0],K=U[1];(0,N.bQ)({anchor:function(){return A},popover:function(){var e;return M||(null===(e=P.current)||void 0===e?void 0:e.nodeRef.current)}},H,function(){return K(!1)});var D=I.useContextValue(),V=(0,S.useRef)(!1),W=(0,u._)((0,S.useState)(e.activeLanguage),2),F=W[0],G=W[1];I.useRegister("root",function(){return{setActiveTab:_}},[]),(0,S.useEffect)(function(){setTimeout(function(){L(!1)},1e3)},[]);var z=(0,S.useMemo)(function(){return!!t&&(1!==x||!H)},[t,x,H]);return(0,S.useEffect)(function(){if(2===x){V.current=!0;return}V.current?(L(!0),e.onChange(x,F)):V.current=!0},[x,F]),(0,d.jsx)(f.Z,(0,c._)((0,s._)({component:"section",className:w()(j()["search-domain-tabs-root"],n,(0,i._)({},j()["sd--borderBtm"],z))},m),{children:(0,d.jsxs)(I.Boundary,{payload:x,contextValue:D,children:[(0,d.jsxs)(v.Z,{sx:{"&[class]":{overflow:"unset !important"},".MuiTabs-scroller[class]":{overflow:"unset !important"},".MuiTabs-scroller .MuiTabs-indicator[class]":{borderRadius:"10px",height:"2px",bgcolor:"#1570ef",transform:"translateY(2px) scaleX(.44)"},".Mui-selected[class][class]":{color:"#1570ef"}},value:x,onChange:function(e,n){1!==n&&G(b.RM.ALL),_(n)},children:[o,(0,d.jsx)(Z,{disabled:y,label:"全网",value:0},"全网"),(0,d.jsx)(T,{disabled:y,ref:function(e){e instanceof HTMLElement&&R(e)},onOpenChange:K,open:H,value:1},"学术"),2===x&&(0,d.jsx)(Z,{disabled:y,label:"图片",value:2},"图片"),r]}),!t&&(0,d.jsxs)(N.ZP,{anchor:A,ref:P,onOpenChanged:K,open:H,noPortal:!0,children:[(0,d.jsx)(h.Z,{className:j()["menu-title"],children:"文献范围"}),(0,d.jsx)(B.R,{sx:{padding:"10px 0"},sxs:{listItem:{padding:"0 10px"}},keyPropName:"value",items:E.OX,renderItem:function(e,n){return{content:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.Z,{sx:{width:"100px"},children:e.label}),e.value===F&&(0,d.jsx)("svg",{width:"16",height:"11",viewBox:"0 0 16 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M14.6666 1L5.49992 10.1667L1.33325 6",stroke:"#1570EF",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),listItemButtonProps:{className:w()(j()["range-item"],e.value===F?j().active:""),sx:{p:"0 5px !important"},onClick:function(){G(e.value)}}}}})]}),t&&(0,d.jsx)(H5LanguageRangeSetting,{onOpenChange:K,activeLanguage:F,onActiveLangChange:G,open:H})]})}))}(a=o||(o={}))[a.All=0]="All",a[a.Scholar=1]="Scholar",a[a.Image=2]="Image";var Z=(0,S.forwardRef)(function(e,n){var t=e.className,a=(0,l._)(e,["className"]),r=I.useBoundaryPayload();return(0,d.jsx)(m.Z,(0,s._)({ref:n,className:w()(t,[j()["search-domain-tab"]],(0,i._)({},j()["search-domain-tab--active"],r===e.value))},a))}),T=(0,S.forwardRef)(function(e,n){var t=(0,S.useRef)();(0,S.useImperativeHandle)(n,function(){return t.current});var a=e.onClick,r=e.onOpenChange,o=e.open,i=(e.activeLanguage,(0,l._)(e,["onClick","onOpenChange","open","activeLanguage"])),c=I.useBoundaryPayload(),f=1===c,m=(0,u._)((0,g.U8)(o,!1,{isControlled:!1,onChanged:r}),2),v=m[0],h=m[1];return(0,S.useEffect)(function(){c!==e.value&&h(!1)},[c,e.value]),(0,d.jsx)(Z,(0,s._)({ref:function(e){e&&(t.current=e)},label:(0,d.jsxs)(p.K,{children:["学术",f&&(0,d.jsx)(arrow_down_2,{style:{position:"absolute",right:5,transition:".2s transform",transform:v?"rotate(180deg)":"none"}})]}),onClick:function(n){c===e.value&&(h(function(e){return!e}),null==a||a(n))}},i))});function H5LanguageRangeSetting(e){var n=e.sx,t=e.open,a=e.onOpenChange,r=e.activeLanguage,o=e.onActiveLangChange,i=(0,l._)(e,["sx","open","onOpenChange","activeLanguage","onActiveLangChange"]),m=(0,u._)((0,g.U8)(r,b.RM.ALL,{isControlled:!1,onChanged:o}),2),v=m[0],p=m[1],x=(0,u._)((0,g.U8)(t,!1,{isControlled:!1,onChanged:a}),2),_=x[0],C=x[1];return I.useRegister("langRangeDropdown",function(){return{toggle:function(e){if(void 0===e)return C(function(e){return!e});C(e)}}},[]),(0,d.jsx)(f.Z,(0,c._)((0,s._)({sx:(0,R.Vc)({width:1,position:"absolute",zIndex:1,pointerEvents:"none"},n)},i),{children:(0,d.jsx)(AttachDrawer,{direction:"down",open:_,onOpenChange:C,children:(0,d.jsxs)(f.Z,{sx:{p:2.4,mb:.5,borderBottom:"1px solid #EAECF0",borderRadius:"0 0 10px 10px",boxShadow:"0px 1px 2px 0px #1018280F"},children:[(0,d.jsx)(h.Z,{sx:{textAlign:"left",fontSize:15,fontWeight:"bold"},children:"文献范围"}),(0,d.jsx)(M.M,{sx:{mt:2,px:0},children:E.OX.map(function(e,n){return(0,d.jsx)(E.ys,{onClick:p.bind(null,e.value),active:e.value===v,children:e.label},e.value)})})]})})}))}var I=_()()},73328:function(e,n,t){"use strict";t.d(n,{M:function(){return SimpleGrid}});var a=t(86840),r=t(35029),o=t(88965),i=t(8001),s=t(81763),c=t(57437),l=t(2265),u=t(98075),d=t(25577),f=t(35069),m="ss-holder",SimpleGrid=function(e){var n,t=e.children,v=e.gap,h=e.sx,p=e.columnCount,g=void 0===p?3:p,x=(0,i._)(e,["children","gap","sx","columnCount"]),_=(0,l.useRef)(null),b=(0,s._)((0,l.useState)(0),2),C=b[0],y=b[1];(0,l.useLayoutEffect)(function(){var e=0,n=!0,t=!1,a=void 0;try{for(var r,o=Array.from(_.current.childNodes.values())[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var i=r.value;!(i instanceof Element&&i.classList.contains("ss-holder"))&&e++}}catch(e){t=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(t)throw a}}y(e)});var w=C%g,L=0===w?w:g-w;return(0,c.jsxs)(u.Z,(0,o._)((0,r._)({direction:"row",className:"simple-grid",ref:_,sx:(0,r._)((n={"--ss-gap":v||"10px",padding:"5px 20px",flexWrap:"wrap",justifyContent:"space-between","&[class] > *":{flex:"1 1 calc(calc(100% - calc(var(--ss-gap) * ".concat(g-1,")) / ").concat(g,")"),ml:"var(--ss-gap)"}},(0,a._)(n,"&[class] > *:nth-of-type(".concat(g,"n + 1):not(.").concat(m,")"),{ml:0}),(0,a._)(n,"&[class] > *:nth-of-type(n + ".concat(g+1,")"),{mt:"var(--ss-gap)"}),n),(0,f.KI)(h||{}))},x),{children:[t,Array(L).fill(1).map(function(e,n){return(0,c.jsx)(d.Z,{className:m,sx:{flex:"1 1 calc(100% / ${rowMaxCount})",ml:"var(--ss-gap)",mt:C>g?"var(--ss-gap)":0}},n)})]}))}},56099:function(e,n,t){"use strict";t.d(n,{A:function(){return useCmdControllerAPI},Q:function(){return useUrlCmdCallback}});var a=t(63294),r=t(2265),o=t(24033);function useUrlCmdCallback(e,n){var t=(0,o.useSearchParams)(),i=(0,a.KL)(t.getAll(a.BT));return(0,r.useCallback)(function(){for(var n=arguments.length,t=Array(n),a=0;a<n;a++)t[a]=arguments[a];return e(i,t)},[null==n?void 0:n.deps])}var i=null,useCmdControllerAPI=function(){var e=(0,o.useSearchParams)(),n=(0,o.useRouter)(),t=(0,r.useMemo)(function(){return(0,a.KL)(e.getAll(a.BT))},[e]);(0,r.useEffect)(function(){i=null},[e]);var c=(0,r.useCallback)(function(r){i||(i=t),o=void 0===r?r:function(e){return e.type!==r},i=t.filter(o);var o,s=new URLSearchParams(e);s.delete(a.BT),i.forEach(function(e){s.append(a.BT,e.type)}),n.replace(location.pathname+"?"+s.toString())},[t,e]);return{cmdList:t,store:s,removeUrlCmd:c}},s=new Map},63294:function(e,n,t){"use strict";t.d(n,{BT:function(){return a},GZ:function(){return createUrlWithCmdList},KL:function(){return parseCMD}});var a="c";function getLocalStorageKey(e){return"cmd-".concat(e)}function parseCMD(e){var n=[];if(!e)return n;try{n=(Array.isArray(e)?e:[e]).map(function(e){return{type:e,payload:localStorage.getItem(getLocalStorageKey(e))||""}})}catch(e){}return n}function createUrlWithCmdList(e,n){"string"==typeof e&&(e=new URL(e));var t=!0,r=!1,o=void 0;try{for(var i,s=n[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var c=i.value;e.searchParams.append(a,c.type),c.payload&&localStorage.setItem(getLocalStorageKey(c.type),c.payload)}}catch(e){r=!0,o=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw o}}return e}},83629:function(e){e.exports={"item-button":"kit-common_item-button__7RqHS","active-item-button":"kit-common_active-item-button__rGSxq","primary-btn":"kit-common_primary-btn__eb9rT"}},74980:function(e){e.exports={"search-domain-tabs-root":"search-domain-kits_search-domain-tabs-root__Vw1o6","sd--borderBtm":"search-domain-kits_sd--borderBtm__WEFWD","search-domain-tab":"search-domain-kits_search-domain-tab__4O_vu","search-domain-tab--active":"search-domain-kits_search-domain-tab--active__SudVn","menu-title":"search-domain-kits_menu-title__GSqLe","range-item":"search-domain-kits_range-item__kr72h","range-item-name":"search-domain-kits_range-item-name__C4VQv",active:"search-domain-kits_active__xpzC4"}}}]);