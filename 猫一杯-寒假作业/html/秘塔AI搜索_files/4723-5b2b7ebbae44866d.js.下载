(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4723],{34723:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return eb}});var r,o,i,s,a,c,l,u,d,h,x,f,p,m,_,g,v=t(86840),w=t(35029),j=t(88965),b=t(81763),k=t(60230),S=t(57437),y=t(2265),M=t(35843),E=t(25577),Z=t(91339),C=t(98075),O=t(7455),L=t(77261),P=t(52653),N=t(69987),A=t(74309),H=t(43226),R=t(25210),I=t(13246),D=t(90952);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var search2=function(e){return D.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=D.createElement("path",{stroke:"#667085",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m21 21-4.35-4.35M19 11a8 8 0 1 1-16 0 8 8 0 0 1 16 0"})))},B=t(6888);function arrow_down_extends(){return(arrow_down_extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var arrow_down=function(e){return D.createElement("svg",arrow_down_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),o||(o=D.createElement("path",{stroke:"#667085",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m6 9 6 6 6-6"})))},F=t(87662),T=t.n(F),z=t(23141);function dots_horizontal_extends(){return(dots_horizontal_extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var dots_horizontal=function(e){return D.createElement("svg",dots_horizontal_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),i||(i=D.createElement("g",{id:"dots-horizontal"},D.createElement("g",{id:"Icon",stroke:"#667085",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2},D.createElement("path",{d:"M12 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2M19 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2M5 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2"})))))},W=t(26603),q=t.n(W),U=t(70815),V=t(42744),Y=t.n(V),K=t(24033),G=t(96521),X=t(21377),J=(0,y.forwardRef)(function(e,n){var t=e.headerAction,r=e.footAction;(0,U.LM)(),(0,K.useRouter)();var o=(0,K.usePathname)(),i=(0,K.useSearchParams)(),s=(0,b._)((0,y.useState)(o.startsWith("/search")||null!=i.get("q")),2),a=s[0],c=s[1];return X.vs.useBridge("homeAPI"),(0,y.useImperativeHandle)(n,function(){return{show:function(){c(!1)},hide:function(){c(!0)},isCollapse:function(){return a}}},[a]),(0,y.useEffect)(function(){a?e.onHide&&e.onHide():e.onShow&&e.onShow()},[a]),(0,S.jsx)("div",{className:q()["menu-container"]+" left-menu",children:(0,S.jsxs)(E.Z,{className:Y()(q().menu,(0,v._)({},q().collapse,a)),children:[(0,S.jsx)("div",{className:q().header,children:t&&t(a)}),(0,S.jsx)(E.Z,{className:Y()(q().content,{"display-hidden":a}),children:e.children}),(0,S.jsx)("div",{className:q().footer,children:(0,S.jsx)("div",{className:q()["sidebar-action"],children:null==r?void 0:r(a)})})]})})}),Q=t(54112),$=t(35069),ee=t(84232);function log_in_extends(){return(log_in_extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var log_in=function(e){return D.createElement("svg",log_in_extends({xmlns:"http://www.w3.org/2000/svg",width:25,height:24,fill:"none",viewBox:"0 0 29 28"},e),s||(s=D.createElement("path",{stroke:"#1570EF",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 3.5h1.4c1.96 0 2.94 0 3.689.381a3.5 3.5 0 0 1 1.53 1.53C25 6.16 25 7.14 25 9.1v9.8c0 1.96 0 2.94-.381 3.689a3.5 3.5 0 0 1-1.53 1.53c-.749.381-1.729.381-3.689.381H18M12.167 8.167 18 14m0 0-5.833 5.833M18 14H4"})))},en=t(35266),et=t(45164);function trash_04_extends(){return(trash_04_extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var trash_04=function(e){return D.createElement("svg",trash_04_extends({xmlns:"http://www.w3.org/2000/svg",width:19,height:19,fill:"none",viewBox:"0 0 19 19"},e),a||(a=D.createElement("path",{stroke:"#344054",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7.25 2.75h4.5M2.75 5h13.5m-1.5 0-.526 7.89c-.079 1.183-.118 1.775-.374 2.224a2.25 2.25 0 0 1-.974.91c-.464.226-1.058.226-2.244.226H8.368c-1.186 0-1.78 0-2.244-.225a2.25 2.25 0 0 1-.974-.911c-.256-.449-.295-1.04-.374-2.225L4.25 5"})))},er=t(94958),eo=t(50410),ei=t(63142),es=t(10093),ea=t(54439),ec={out:"out-in",in:"in-out"},callHook=function(e,n,t){return function(){var r;e.props[n]&&(r=e.props)[n].apply(r,arguments),t()}},el=((c={})[ec.out]=function(e){var n=e.current,t=e.changeState;return y.cloneElement(n,{in:!1,onExited:callHook(n,"onExited",function(){t(es.d0,null)})})},c[ec.in]=function(e){var n=e.current,t=e.changeState,r=e.children;return[n,y.cloneElement(r,{in:!0,onEntered:callHook(r,"onEntered",function(){t(es.d0)})})]},c),eu=((l={})[ec.out]=function(e){var n=e.children,t=e.changeState;return y.cloneElement(n,{in:!0,onEntered:callHook(n,"onEntered",function(){t(es.cn,y.cloneElement(n,{in:!0}))})})},l[ec.in]=function(e){var n=e.current,t=e.children,r=e.changeState;return[y.cloneElement(n,{in:!1,onExited:callHook(n,"onExited",function(){r(es.cn,y.cloneElement(t,{in:!0}))})}),y.cloneElement(t,{in:!0})]},l),ed=function(e){function SwitchTransition(){for(var n,t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).state={status:es.cn,current:null},n.appeared=!1,n.changeState=function(e,t){void 0===t&&(t=n.state.current),n.setState({status:e,current:t})},n}(0,ei.Z)(SwitchTransition,e);var n=SwitchTransition.prototype;return n.componentDidMount=function(){this.appeared=!0},SwitchTransition.getDerivedStateFromProps=function(e,n){var t,r;return null==e.children?{current:null}:n.status===es.d0&&e.mode===ec.in?{status:es.d0}:n.current&&!((t=n.current)===(r=e.children)||y.isValidElement(t)&&y.isValidElement(r)&&null!=t.key&&t.key===r.key)?{status:es.Ix}:{current:y.cloneElement(e.children,{in:!0})}},n.render=function(){var e,n=this.props,t=n.children,r=n.mode,o=this.state,i=o.status,s=o.current,a={children:t,current:s,changeState:this.changeState,status:i};switch(i){case es.d0:e=eu[r](a);break;case es.Ix:e=el[r](a);break;case es.cn:e=s}return y.createElement(ea.Z.Provider,{value:{isMounting:!this.appeared}},e)},SwitchTransition}(y.Component);ed.propTypes={},ed.defaultProps={mode:ec.out};var eh=t(80704);function circle_extends(){return(circle_extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var circle=function(e){return D.createElement("svg",circle_extends({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16"},e),u||(u=D.createElement("path",{fill:"#aaa",fillRule:"evenodd",d:"M8 1a6.99 6.99 0 0 0-6.467 4.321 7.001 7.001 0 0 0 9.146 9.146A7 7 0 0 0 15 8h1c0 1.582-.47 3.129-1.348 4.445a7.995 7.995 0 0 1-12.309 1.211 8 8 0 0 1-2.19-4.095 8.01 8.01 0 0 1 3.403-8.212A8 8 0 0 1 8 0z"},D.createElement("animateTransform",{attributeName:"transform",attributeType:"XML",dur:"2s",from:"0 8 8",repeatCount:"indefinite",to:"360 8 8",type:"rotate"}))))};function Loading(e){return(0,S.jsx)("div",{className:" no-dark",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},children:(0,S.jsx)(circle,{})})}var ex=t(25727),ef=t.n(ex),ep=new Map;function MetaLoadingSuspend(e){var n,t,r,o,i=e.withTransition,s=e.promise,a=null!==(n=e.key)&&void 0!==n?n:s,c=ep.get(a),l=(0,b._)((0,y.useState)({isError:null!==(t=null==c?void 0:c.detail.isError)&&void 0!==t&&t,errorReason:null!==(r=null==c?void 0:c.detail.errorReason)&&void 0!==r?r:null}),2),u=l[0],d=l[1],h=null!==(o=e.loadingContent)&&void 0!==o&&o,x=(0,b._)((0,y.useState)(!!(null==c?void 0:c.isLoaded)),2),f=x[0],p=x[1],m=(0,b._)((0,y.useState)(null==c?void 0:c.result),2),_=m[0],g=m[1];(0,y.useEffect)(function(){if(!f)return s.then(function(e){g(e)}).catch(function(e){d({isError:!0,errorReason:e})}).finally(function(){p(!0)}),function(){g(null),p(!1),d({isError:!1,errorReason:null})}},[a]),(0,y.useEffect)(function(){return ep.set(a,{isLoaded:f,detail:u,result:_}),function(){ep.delete(a)}},[a,u,f,_]);var v=(0,S.jsx)(ProcessChildren,{result:_,detail:u,children:e.children});return void 0!==i&&i?(0,S.jsx)(MetaLoadingTransition,{loaded:f,loadingContent:h,children:v}):(0,S.jsx)(S.Fragment,{children:f?v:h})}function ProcessChildren(e){var n=e.children,t=e.result,r=e.detail;return(0,S.jsx)(S.Fragment,{children:"function"==typeof n?n(t,r):n})}function MetaLoadingTransition(e){var n,t=(0,y.useRef)(null),r=(0,y.useRef)(null),o=e.loaded?r:t;return(0,S.jsx)(ed,{mode:"out-in",children:(0,S.jsx)(eh.Z,{nodeRef:o,timeout:200,classNames:{enter:"opacity1",enterActive:"opacity1",exit:"opacity0",exitActive:"opacity0"},children:(0,S.jsx)(E.Z,(0,j._)((0,w._)({ref:o,sx:(0,w._)({transition:"opacity .2s ease"},null===(n=e.transitionWrapperProps)||void 0===n?void 0:n.sx)},ef()(e.transitionWrapperProps,"sx")),{children:e.loaded?e.children:e.loadingContent||(0,S.jsx)(Loading,{})}))},e.loaded?"loaded":"loading")})}var em=t(71100);function chevron_right_extends(){return(chevron_right_extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var chevron_right=function(e){return D.createElement("svg",chevron_right_extends({xmlns:"http://www.w3.org/2000/svg",width:25,height:24,fill:"none",viewBox:"0 0 29 28"},e),d||(d=D.createElement("path",{stroke:"#667085",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7.711 19.833 13.545 14 7.71 8.167m8.167 11.666L21.711 14l-5.833-5.833"})))},e_=t(26026),eg=t(78276);function wxMiniProgram_extends(){return(wxMiniProgram_extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var wxMiniProgram=function(e){return D.createElement("svg",wxMiniProgram_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),h||(h=D.createElement("path",{fill:"#667085",d:"M12 22.68c5.898 0 10.68-4.782 10.68-10.68S17.898 1.32 12 1.32 1.32 6.102 1.32 12 6.102 22.68 12 22.68M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18"})),x||(x=D.createElement("path",{fill:"#667085",d:"M12.757 9.499a1.818 1.818 0 1 1 1.819 1.818.72.72 0 1 0 0 1.44 3.259 3.259 0 1 0-3.259-3.259.72.72 0 1 0 1.44 0m-1.44 4.997a1.818 1.818 0 1 1-1.819-1.819.72.72 0 0 0 0-1.44 3.259 3.259 0 1 0 3.259 3.259.72.72 0 0 0-1.44 0"})),f||(f=D.createElement("path",{fill:"#667085",d:"M11.317 9.426v5.104h1.44V9.426z"})))};function menu_logo_extends(){return(menu_logo_extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var menu_logo=function(e){return D.createElement("svg",menu_logo_extends({xmlns:"http://www.w3.org/2000/svg",width:35,height:35,fill:"none",viewBox:"0 0 35 35"},e),p||(p=D.createElement("path",{fill:"url(#paint0_linear_934_2875)",d:"M11.362 16.736a1.218 1.218 0 0 1 2.106 0l5.763 9.943a2.66 2.66 0 0 0 4.005.697c1.014-.84 1.156-2.343.507-3.483L14.687 8.329"})),m||(m=D.createElement("path",{fill:"#175CD3",d:"m33.955 24.02-5.557-9.611c-.729-1.267-2.36-1.694-3.626-.966-1.266.729-1.694 2.36-.966 3.626l5.558 9.61c.728 1.267 2.359 1.694 3.625.966s1.694-2.359.966-3.626M24.851 8.33c-.728-1.267-2.359-1.695-3.625-.967s-1.694 2.36-.966 3.626 2.359 1.694 3.625.966c1.267-.744 1.71-2.36.966-3.626M13.72 7.364a2 2 0 0 0-.252-.127 2.625 2.625 0 0 0-3.23.87l-.016.017c-.016.031-.032.047-.048.079-.015.031-.047.079-.063.11L1.086 23.878c-.174.3-.3.65-.348.982v.063a2 2 0 0 0-.047.412c-.016.76.285 1.52.902 2.026a2.67 2.67 0 0 0 1.678.634h.095a2.65 2.65 0 0 0 2.28-1.315l5.81-10.085 3.247-5.62a2.645 2.645 0 0 0-.982-3.61"})),_||(_=D.createElement("defs",null,D.createElement("linearGradient",{id:"paint0_linear_934_2875",x1:11.362,x2:24.136,y1:18.162,y2:18.162,gradientUnits:"userSpaceOnUse"},D.createElement("stop",{offset:.144,stopColor:"#194185"}),D.createElement("stop",{offset:.218,stopColor:"#1849A9"}),D.createElement("stop",{offset:.375,stopColor:"#175CD3"}),D.createElement("stop",{offset:.579,stopColor:"#175CD3"}),D.createElement("stop",{offset:1,stopColor:"#175CD3"})))))},ev=t(28511);function download_02_extends(){return(download_02_extends=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var download_02=function(e){return D.createElement("svg",download_02_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),g||(g=D.createElement("path",{stroke:"#98A2B3",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m18 17-5-5 5-5m-7 10-5-5 5-5"})))},ew=t(72502),ej=t(18228);function _templateObject(){var e=(0,k._)(["\n    border-radius: 5px;\n    width: 20px;\n    font-size: 12px;\n    border: 1px solid  #D0D5DD;\n    background:  #F9FAFB;\n"]);return _templateObject=function(){return e},e}function FooterAction(e){var n,t=(0,U.LM)(),r=X.vs.useBridge("avatarMenu");(0,K.useRouter)();var o=X.vs.useBridge("menuAPI"),i=(0,b._)((0,y.useState)(!1),2),s=i[0],a=i[1],c=(0,O.Z)({components:{MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:"white",boxShadow:"5px 5px 5px 5px rgba(16, 24, 40, 0.08)"}}}}}),l=(0,y.useRef)(null),u=(0,y.useRef)(null),d=(0,y.useRef)(null),h=(0,y.useRef)(null),x=(0,y.useRef)(null),f={alternateAnchor:function(){return u.current||h.current},containAreas:function(){return[l.current,d.current,x.current]}};return e.collapse?(0,S.jsxs)(MetaLoadingSuspend,{withTransition:!1,loadingContent:(0,S.jsx)(L.Z,{variant:"circular",sx:{mb:2.5},width:40,height:40}),promise:ee.wS.done,children:[(0,S.jsx)(P.Z,{onClick:function(){var e;return null===(e=o.current)||void 0===e?void 0:e.open()},children:(0,S.jsx)(chevron_right,{})}),(0,S.jsx)(N.Z,{theme:c,children:(0,S.jsx)(eg.Z,{title:(0,S.jsx)("img",{src:"https://uranus-static.oss-cn-beijing.aliyuncs.com/metaso/image/metaso_miniprogram_code.jpg",height:"200px"}),placement:"top-start",PopperProps:{modifiers:[{name:"offset",options:{offset:[10,0]}}]},children:(0,S.jsx)(P.Z,{sx:{cursor:"default"},children:(0,S.jsx)(wxMiniProgram,{})})})}),(0,S.jsxs)(E.Z,{sx:{display:"flex",alignItems:"center",height:40,marginBottom:"20px"},children:[(0,S.jsx)(z.Z,(0,w._)({sxs:{button:{flex:"none"}}},f)),!t.login&&(0,S.jsx)(P.Z,{ref:x,onClick:function(){var e;null===(e=r.current)||void 0===e||e.toggle()},sx:{p:1},children:(0,S.jsx)(E.Z,{component:"span",ref:h,style:{verticalAlign:"bottom",fontSize:0},children:(0,S.jsx)(et.Z,{style:{color:"#667085",width:24,height:24,flex:"none",verticalAlign:"bottom"}})})})]})]}):(0,S.jsxs)(E.Z,{sx:{width:"100%"},children:[(0,S.jsx)(N.Z,{theme:c,children:(0,S.jsx)(eg.Z,{title:(0,S.jsx)("img",{src:"https://uranus-static.oss-cn-beijing.aliyuncs.com/metaso/image/metaso_miniprogram_code.jpg",height:"200px"}),placement:"top-start",PopperProps:{modifiers:[{name:"offset",options:{offset:[10,0]}}]},open:s,children:(0,S.jsxs)(A.Z,{className:T()["menu-item"],onMouseEnter:function(){a(!0)},sx:{"&[class]":{mb:1,cursor:"default"}},onMouseLeave:function(){a(!1)},children:[(0,S.jsx)(wxMiniProgram,{style:{flex:"none"}}),(0,S.jsx)("div",{className:T()["menu-item-text"],children:"微信小程序"})]})})}),(0,S.jsx)(E.Z,{sx:(0,w._)({},e.sx),className:"".concat(T()["menu-footer"]," ").concat(e.collapse?"":T()["menu-footer--expand"]),children:(0,S.jsxs)(MetaLoadingSuspend,{loadingContent:(0,S.jsx)(L.Z,{variant:"rounded",sx:{"&[class][class]":{minWidth:64,mx:"20px",boxSizing:"border-box"}},width:"100%",height:"100%"}),promise:ee.wS.done,children:[(0,S.jsx)(z.Z,(0,w._)({sxs:{button:{ml:"9px"},popover:{position:{"&[class]":{zIndex:"2001 !important"}}}}},f)),t.login?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(H.Z,{component:"span",sx:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(null===(n=t.userInfo)||void 0===n?void 0:n.userName)||""}),(0,S.jsx)(P.Z,{ref:l,className:T()["more-btn"],onClick:function(){var e;null===(e=r.current)||void 0===e||e.toggle()},children:(0,S.jsx)(dots_horizontal,{})})]}):(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(A.Z,{className:Y()(T()["menu-item"]),sx:{width:1},ref:d,onClick:function(){var e;null===(e=r.current)||void 0===e||e.toggle()},children:[(0,S.jsx)(E.Z,{component:"span",ref:u,children:(0,S.jsx)(et.Z,{style:{color:"#667085",width:24,height:24,flex:"none",verticalAlign:"bottom"}})}),(0,S.jsx)("div",{className:T()["menu-item-text"],children:"更多"})]})})]})})]})}function MainAction(e){var n=(0,K.useRouter)();(0,K.usePathname)();var t=(0,U.LM)(),r=(0,y.useCallback)(function(n){e.onItemDelete(n)},[e.onItemDelete]),o=(0,y.useCallback)(function(){t.login?n.push(G.lM.UsageRecord):(0,e_.x3)({showTips:!0,tipsHtml:void 0})},[t]);return(0,S.jsx)(MetaLoadingSuspend,{promise:ee.wS.done,children:(0,S.jsx)(E.Z,{sx:(0,w._)({},e.sx),style:{display:e.showContent?"block":"none"},children:e.items.length>0?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(en.Z,{className:T()["session-menu"],children:e.items.map(function(t,o){var i=(0,$.gY)(G.lM.Search,{id:t.id})+"?q="+encodeURIComponent(t.question);return(0,S.jsx)("li",{children:(0,S.jsx)(ew.Z,{className:T()["session-item"],selected:e.activeId.indexOf(t.id)>-1,sx:{overflow:"hidden"},onClick:function(){n.push(i)},children:(0,S.jsxs)(R.Z,{sx:{display:"flex",px:1,color:"inherit",textDecoration:"none","& > svg":{marginRight:"5px"}},href:i,onClick:function(e){return e.preventDefault()},tabIndex:-1,className:"flex-container align-center",children:["scholar"===t.engineType&&(0,S.jsx)(ej.Z,{}),(0,S.jsx)(E.Z,{className:T()["session-text"],children:t.question}),(0,S.jsx)(P.Z,{className:T()["delete-btn"],sx:{my:-.3,mx:0,p:.3},onKeyDown:function(e){e.preventDefault()},onClick:function(e){e.preventDefault(),e.stopPropagation(),r(t.id)},children:(0,S.jsx)(trash_04,{})})]})})},t.id)})}),(0,S.jsx)(I.Z,{className:T()["text-btn"],onClick:o,children:"查看更多"})]}):(0,S.jsx)(E.Z,{className:T()["empty-item"],children:"搜索记录为空"})})})}function HeaderAction(e){var n=(0,K.useRouter)(),t=(0,K.usePathname)(),r=X.vs.useBridge("homeAPI"),goHome=function(){if("/"!==t)n.push(G.lM.Home);else{var e;null===(e=r.current)||void 0===e||e.back()}},o=X.vs.useBridge("menuAPI"),i=e.collapse,s=e.userStore;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(E.Z,{className:Y()(q()["header-inner"]),children:[(0,S.jsx)(E.Z,{className:q()["logo-btn"],onClick:function(){return goHome()},children:i?(0,S.jsx)(menu_logo,{}):(0,S.jsx)(ev.Z,{})}),(0,S.jsx)("div",{className:q()["sidebar-action"],children:i?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(MetaLoadingSuspend,{promise:ee.wS.done,loadingContent:(0,S.jsx)(L.Z,{variant:"circular",width:40,height:40}),children:!s.login&&(0,S.jsx)(P.Z,{sx:{background:"#EFF8FF"},onClick:function(){return(0,e_.x3)()},children:(0,S.jsx)(log_in,{})})}),(0,S.jsx)(P.Z,{onClick:function(){goHome()},children:(0,S.jsx)(search2,{})}),(0,S.jsx)(P.Z,{onClick:function(){n.push(G.lM.BrowserSetting)},children:(0,S.jsx)(B.Z,{})})]}):(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(P.Z,{className:q()["back-btn"],onClick:function(){var e;return null===(e=o.current)||void 0===e?void 0:e.hide()},children:(0,S.jsx)(download_02,{})})})})]}),!i&&(0,S.jsx)(E.Z,{sx:(0,w._)({display:"flex",flexDirection:"column",color:"#667085",fontSize:"16px"},e.sx),children:(0,S.jsxs)(MetaLoadingSuspend,{promise:ee.wS.done,withTransition:!1,loadingContent:(0,S.jsxs)(C.Z,{sx:{px:"18px"},children:[(0,S.jsx)(L.Z,{variant:"rounded",sx:{"&[class][class]":{m:"10px 0 25px",minWidth:64}},height:42}),(0,S.jsx)(L.Z,{variant:"rounded",height:40}),(0,S.jsx)(L.Z,{variant:"rounded",sx:{mt:1},height:40}),(0,S.jsx)(L.Z,{variant:"rounded",sx:{mt:1},height:40})]}),children:[!e.userStore.login&&(0,S.jsx)(I.Z,{sx:{height:42,margin:"10px 18px 25px"},onClick:function(){(0,e_.x3)()},variant:"outlined",children:"登录/注册"}),(0,S.jsxs)(A.Z,{tabIndex:0,className:T()["menu-item"],sx:{padding:"8px 18px"},onClick:function(){goHome()},children:[(0,S.jsx)(search2,{}),(0,S.jsx)("div",{className:T()["menu-item-text"],children:"主页"})]}),(0,S.jsxs)(A.Z,{tabIndex:0,className:T()["menu-item"],sx:{padding:"8px 18px"},onClick:function(){n.push(G.lM.BrowserSetting)},children:[(0,S.jsx)(B.Z,{}),(0,S.jsx)("div",{className:T()["menu-item-text"],children:"设为默认"})]}),(0,S.jsxs)(A.Z,{tabIndex:0,className:T()["menu-item"],sx:{padding:"8px 18px"},onClick:e.onToggle,children:[(0,S.jsx)(E.Z,{className:(0,$.zk)([T()["arrow-icon"]],(0,v._)({},T()["arrow-down"],e.showContent)),children:(0,S.jsx)(arrow_down,{})}),(0,S.jsx)("div",{className:T()["menu-item-text"],children:"最近"})]})]})})]})}(0,M.ZP)(function(e){return(0,S.jsx)(E.Z,(0,j._)((0,w._)({},e),{children:e.children}))},{name:"KeyButton"})(_templateObject());var eb=(0,y.forwardRef)(function(e,n){var t=(0,K.useRouter)(),r=(0,b._)((0,y.useState)([]),2),o=r[0],i=r[1],s=e.isH5,a=(0,y.useRef)([]),c=(0,y.useRef)(!1);X.vs.useRegister("menuAPI",{add:function(e){a.current.unshift(e),a.current=a.current.slice(0,10),i(a.current)},hide:function(){if(s)d(!1);else{var e;null===(e=v.current)||void 0===e||e.hide()}},open:function(){if(s)d(!0);else{var e;null===(e=v.current)||void 0===e||e.show()}},isCollapse:function(){var e,n;return s?u:null===(n=null===(e=v.current)||void 0===e?void 0:e.isCollapse())||void 0===n||n},isLoaded:function(){return c.current},updateActiveId:function(e){L(e)},reload:function(){R()}},[s]);var l=(0,b._)((0,y.useState)(!1),2),u=l[0],d=l[1],h=(0,U.LM)(),x=(0,b._)((0,y.useState)(-1),2);x[0],x[1];var f=(0,b._)((0,y.useState)(!1),2),p=f[0],m=f[1],_=(0,y.useRef)(0),g=X.vs.useBridge("resultAPI"),v=(0,y.useRef)(null),w=(0,K.usePathname)(),j=(0,em.a2)(),k=(0,y.useRef)(!1),M=(0,b._)((0,y.useState)(""),2),O=M[0],L=M[1],P=X.vs.useBridge("homeAPI"),N=X.vs.useBridge("usageAPI"),A=(0,y.useRef)(!1),H=(0,y.useRef)(!1);(0,y.useEffect)(function(){L(w)},[w]),(0,y.useEffect)(function(){h.login!==H.current&&(k.current=!1,H.current=h.login,a.current=[],c.current=!1),h.login?k.current?j.needSyncHistory&&(a.current=[],j.setNeedSyncHistory(!1),R(!0)):(k.current=!0,R(!0)):(a.current=j.searchHistory,i(a.current),c.current=!0,k.current=!1)},[h,j]),(0,y.useEffect)(function(){m(j.showHistory)},[j.isHydrated]);var R=(0,y.useCallback)(function(e){(0,Q.eO)({pageIndex:_.current,pageSize:10}).then(function(n){e?a.current=a.current.concat(n.data.data.content):a.current=n.data.data.content,i(a.current.slice(0,10)),c.current=!0,e&&A.current&&a.current.length>0&&(m(!0),A.current=!1)})},[]),I=(0,y.useCallback)(function(){var e;null===(e=g.current)||void 0===e||e.hideMind()},[]),D=(0,y.useCallback)(function(){var e;null===(e=g.current)||void 0===e||e.showMind()},[]),B=(0,y.useCallback)(function(e){(0,er.W)("确定删除","您确定要删除吗?").then(function(){h.login?(0,Q.SO)(e).then(function(n){(0,eo.yv)("删除成功",{variant:"success",autoHideDuration:3e3}),N.current?(N.current.reload(),R()):O.indexOf(e)>-1?P.current?(P.current.back(),R()):t.push(G.lM.Home):R()}):(j.deleteRecord(e),(0,eo.yv)("删除成功",{variant:"success",autoHideDuration:3e3}),O.indexOf(e)>-1&&(P.current?P.current.back():t.push(G.lM.Home)))})},[h,O]);return s?(0,S.jsx)(Z.ZP,{anchor:"left",sx:{".MuiPaper-root":{width:"80vw"}},open:u,onClose:function(){return d(!1)},children:(0,S.jsxs)(C.Z,{direction:"column",sx:{height:1},children:[(0,S.jsxs)(C.Z,{direction:"column",sx:{flex:1},children:[(0,S.jsx)(HeaderAction,{showContent:p,userStore:h,collapse:!0,onToggle:function(){m(!p)}}),(0,S.jsx)(E.Z,{sx:{flex:1,overflowY:"auto"},children:(0,S.jsx)(MainAction,{activeId:O,onItemDelete:B,showContent:p,items:o})})]}),(0,S.jsx)(E.Z,{sx:{flex:"none",px:2},children:(0,S.jsx)(FooterAction,{collapse:!1})})]})}):(0,S.jsx)(J,{ref:v,onShow:I,onHide:D,headerAction:function(e){return(0,S.jsx)(HeaderAction,{onToggle:function(){m(!p),j.setShowHistory(!p)},collapse:e,showContent:p,userStore:h})},footAction:function(e){return(0,S.jsx)(FooterAction,{collapse:e})},actionClick:function(){t.push(G.lM.Home)},children:(0,S.jsx)(MainAction,{activeId:O,onItemDelete:B,showContent:p,items:o})})})},87662:function(e){e.exports={"search-box-left":"Search_search-box-left__j_kvq","copy-btn":"Search_copy-btn__tznnR","result-field-title":"Search_result-field-title__1r2hs","search-result-container":"Search_search-result-container__AUm_K","search-result":"Search_search-result__louwQ","image-result":"Search_image-result__UYyeV","search-tip-label-container":"Search_search-tip-label-container__Ncu7e","sub-title":"Search_sub-title__leVkw","menu-footer":"Search_menu-footer__H77q4","menu-footer--expand":"Search_menu-footer--expand__jokfa","skeleton-container":"Search_skeleton-container__uku66",sk:"Search_sk__yuMN6","arrow-icon":"Search_arrow-icon__qTY_d","arrow-down":"Search_arrow-down__KG7C8","more-btn":"Search_more-btn__pXMWr","session-item":"Search_session-item__8YciN","delete-btn":"Search_delete-btn__XlhFS","menu-item":"Search_menu-item___Vw7a","empty-item":"Search_empty-item__dLKuN","session-menu":"Search_session-menu__D9Sya","fixed-float-btn":"Search_fixed-float-btn__KOEds","progress-container":"Search_progress-container__di6DZ","height-0":"Search_height-0__ko9Gy","text-btn":"Search_text-btn__18X9q","session-text":"Search_session-text__PQnkG","menu-item-text":"Search_menu-item-text__uUWQO","relation-count":"Search_relation-count__l0jnA","answer-link-btn":"Search_answer-link-btn__Od5C7","ai-write-container":"Search_ai-write-container__HZESN","ai-write-header":"Search_ai-write-header__2G_z7","ai-write-button":"Search_ai-write-button__w64ep","about-footer":"Search_about-footer__weziF","result-expand-btn":"Search_result-expand-btn__lU_3X"}},26603:function(e){e.exports={"menu-container":"LeftMenu_menu-container__n4peE",menu:"LeftMenu_menu__YLrpo",collapse:"LeftMenu_collapse__kTNg8",content:"LeftMenu_content__ZR2MW","menu-split":"LeftMenu_menu-split__YkEL2",footer:"LeftMenu_footer__qsJdJ","sidebar-action":"LeftMenu_sidebar-action__VdkAC",header:"LeftMenu_header__JW_As","header-inner":"LeftMenu_header-inner__vlWOL","back-btn":"LeftMenu_back-btn__qo_3n","logo-btn":"LeftMenu_logo-btn__k33Mt"}}}]);