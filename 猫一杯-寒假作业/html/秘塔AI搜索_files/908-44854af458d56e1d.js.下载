(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[908],{42480:function(){},50934:function(e,t,n){"use strict";var r,o=n(90952);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return o.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),r||(r=o.createElement("defs",null,o.createElement("path",{id:"path_0",d:"M0 0h16v16H0z"}))),o.createElement("g",null,o.createElement("path",{id:"\\u8DEF\\u5F84 1",d:"m0 0 10.67 10.67",style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2.667 2.667)"}),o.createElement("path",{id:"\\u8DEF\\u5F84 2",d:"M0 10.67 10.67 0",style:{stroke:"#333",strokeWidth:1.3333333333333333,strokeOpacity:1,strokeDasharray:"0 0"},transform:"translate(2.667 2.667)"})))}},45164:function(e,t,n){"use strict";var r,o=n(90952);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return o.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),r||(r=o.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 13.334V10m0-3.333h.008M18.333 10a8.333 8.333 0 1 1-16.666 0 8.333 8.333 0 0 1 16.666 0"})))}},27563:function(e,t,n){"use strict";var r,o,a,i=n(90952);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return i.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:30,height:14,fill:"#fff",viewBox:"0 0 120 30"},e),r||(r=i.createElement("circle",{cx:15,cy:15,r:15,fill:"#2D2D2D"},i.createElement("animate",{attributeName:"r",begin:"0s",calcMode:"linear",dur:"0.8s",from:15,repeatCount:"indefinite",to:15,values:"15;9;15"}),i.createElement("animate",{attributeName:"fill-opacity",begin:"0s",calcMode:"linear",dur:"0.8s",from:1,repeatCount:"indefinite",to:1,values:"1;.2;.2"}))),o||(o=i.createElement("circle",{cx:60,cy:15,r:9,fill:"#2D2D2D",fillOpacity:.3},i.createElement("animate",{attributeName:"r",begin:"0s",calcMode:"linear",dur:"0.8s",from:9,repeatCount:"indefinite",to:9,values:"9;15;9"}),i.createElement("animate",{attributeName:"fill-opacity",begin:"0s",calcMode:"linear",dur:"0.8s",from:.5,repeatCount:"indefinite",to:.5,values:".2;1;1"}))),a||(a=i.createElement("circle",{cx:105,cy:15,r:15,fill:"#2D2D2D"},i.createElement("animate",{attributeName:"r",begin:"0s",calcMode:"linear",dur:"0.8s",from:15,repeatCount:"indefinite",to:15,values:"15;9;15"}),i.createElement("animate",{attributeName:"fill-opacity",begin:"0s",calcMode:"linear",dur:"0.8s",from:1,repeatCount:"indefinite",to:1,values:".2;.2;1"}))))}},54112:function(e,t,n){"use strict";n.d(t,{vO:function(){return U},EO:function(){return p},dp:function(){return K},sS:function(){return _logToES},lX:function(){return addChatHistory},KQ:function(){return addInvoiceHeaders},fg:function(){return addTeam},yG:function(){return addTeamMembers},RG:function(){return attemptShowCloudflareVerify},w5:function(){return autoLogin},Dr:function(){return caseMindMapping},oi:function(){return changeUserPassword},tW:function(){return checkPhoneCode},nB:function(){return checkResultExist},QQ:function(){return clearHistory},B6:function(){return copySessions},mg:function(){return createCaseSearchSession},ed:function(){return createSession},hB:function(){return deleteChatHistory},RX:function(){return deleteInvoiceHeaders},SO:function(){return deleteSession},N:function(){return deleteTeamManagers},MH:function(){return deleteTeamMember},Tm:function(){return editorInvoiceHeaders},rn:function(){return eventExtract},t:function(){return q},Yd:function(){return exportDocx},DO:function(){return generateUUID},CC:function(){return getAllShareRewardRecord},ej:function(){return getCookie},km:function(){return getDownloadUrl},fR:function(){return getEntityExtraction},aB:function(){return getExtensionReading},j5:function(){return getFeedbacks},bI:function(){return getGroupSession},wU:function(){return getInvoiceHeader},sA:function(){return getInvoices},oW:function(){return getMetaSoProducts},Tt:function(){return getMetasoAIConfig},wr:function(){return getOpenId},Sy:function(){return getPhoneCode},an:function(){return getPicture},Xp:function(){return getProducts},Bf:function(){return getQRCodeStatus},a5:function(){return getQuestion},Ur:function(){return getResearchUsage},eO:function(){return getSearchList},ff:function(){return getSearchPptData},VU:function(){return getSearchRecord},XS:function(){return getShareKey},w0:function(){return getShareRewardRecord},VP:function(){return getTeam},Kt:function(){return getTeamByParams},YY:function(){return getTeamMembers},Ic:function(){return getUsage},N1:function(){return getUserListByManager},uI:function(){return getUserOrders},Gu:function(){return getValid},oT:function(){return getXfUrl},PM:function(){return logOff},HQ:function(){return loginByAccount},Cs:function(){return loginByPhone},dN:function(){return makeOrder},NJ:function(){return modifyUserInfo},Aw:function(){return myInfo},U3:function(){return reqCheck},QE:function(){return reqVerify},Pw:function(){return requestLogin},YS:function(){return z},kh:function(){return rewardRecord},d0:function(){return saveFeedback},qE:function(){return serverLog},ik:function(){return setTeamManagers},yn:function(){return showCloudflareVerify},kG:function(){return J},CO:function(){return X},qb:function(){return submitInvoices},pg:function(){return submitUserVisite},O9:function(){return translateText},O0:function(){return updateCaseComment},M8:function(){return updateCaseRelationShip},JQ:function(){return updateExtensionReading},zl:function(){return uploadForMetaso},T:function(){return verify},kF:function(){return verifyEmailCode},Vy:function(){return writeMdToXiezuocat},fL:function(){return writeMindToXiezuocat},WD:function(){return wxConfigUranusValidate}});var r,o,a,i,s,c,u,l,d,f,m,p,h=n(16687),g=n(22977),v=n(6408),y=n(35029),S=n(88965),b=n(56417),C=n(93891),_=n(50044),w=n(92173),E=n(25154),x=n(96521),k=n(70815);n(68076);var T=n(57437),M=n(2265),I=n(33399),A=n(44519),O=n(34040),R=(0,M.forwardRef)(function(e,t){return(0,T.jsx)(I.k,{maskSx:{zIndex:"9999 !important"},open:!0,onClose:function(){e.onClose&&e.onClose()},title:"请滑动滑块验证",children:(0,T.jsx)(A.Z,{onSuccess:function(){e.onSuccess()}})})}),D=!1,Captcha=function(e,t){if(!D){D=!0;var n=document.createElement("div");document.body.appendChild(n);var r=(0,O.createRoot)(n);r.render((0,T.jsx)(R,{onSuccess:function(){e&&e(),r.unmount(),n.remove(),D=!1},onClose:function(){t&&t(),r.unmount(),n.remove(),D=!1}}))}},N=n(35069),L=n(18833),P=n(46849),B=n(36953),U={baseURL:"https://metaso.cn",headers:{"is-mini-webview":(null===(m=(0,L.ZD)())||void 0===m?void 0:m.isMiniWebView)?"1":"0"}},j=(0,P.pb)("undefined"!=typeof navigator?navigator.userAgent:null)?{"metaso-h5":"1"}:{};Object.assign(U.headers,j);var H=w.default.create(U),F=w.default.create(U),W="https://metaso.cn",onRejected=function(e){var t="请求发生错误：".concat(e.msg||e.message||e.errMsg||e);switch(e.code){case"ERR_NETWORK":t="请求发生错误，请检查您的网络";break;case"ECONNABORTED":t="请求发生错误，请求超时，请稍后尝试"}e&&e.config&&e.config.url&&!e.config.url.endsWith("event_report")&&(0,N.dW)(N.Gy.NETWORK_INTERCEPTOR_ERROR,1,{msg:t,client:(0,L.Fk)(),url:e.config.url})};H.interceptors.response.use(void 0,onRejected),F.interceptors.request.use((r=(0,h._)(function(e){var t,n;return(0,_.Jh)(this,function(r){switch(r.label){case 0:if(!((t=k.LM.getState()).verify&&t.verify.val))return[3,2];return[4,new Promise(function(e,n){t.updateVerify((0,S._)((0,y._)({},t.verify),{val:!1})),Captcha(function(){e()},function(){n()})})];case 1:r.sent(),r.label=2;case 2:return n=document.querySelector("#meta-token").getAttribute("content"),e.headers.set("token",n),[2,e]}})}),function(e){return r.apply(this,arguments)})),F.interceptors.response.use((o=(0,h._)(function(e){var t,n;return(0,_.Jh)(this,function(r){switch(r.label){case 0:if(!("errCode"in e.data))return[3,4];if(t=e.data.errCode,!K.isNeedLoginErrorCode(t))return[3,2];return[4,k.LM.getState().logOut(!0)];case 1:throw r.sent(),new K(t,"用户信息过期且无额度,需要登录");case 2:t===x.cO.BLACK_LIST?(n={val:!0,params:{realIp:e.data.realIp}},k.LM.getState().updateVerify(n)):K.isRequestFrequentlyErrorCode(t)?attemptShowCloudflareVerify():t!==x.cO.SAFE&&t!==x.cO.SUCCESS&&e&&e.config&&e.config.url&&!e.config.url.endsWith("event_report")&&(0,N.dW)(N.Gy.NETWORK_INTERCEPTOR_ERROR,1,{data:e.data,client:(0,L.Fk)(),url:e.config.url}),r.label=3;case 3:return[3,5];case 4:e.data,r.label=5;case 5:return[2,e]}})}),function(e){return o.apply(this,arguments)}),onRejected);var getFetchCommonOptions=function(e){var t=JSON.stringify(e),n=new Headers,r=document.querySelector("#meta-token").getAttribute("content");return n.append("token",r),n.append("Content-Type","application/json"),{method:"POST",body:t,headers:n}};function attemptShowCloudflareVerify(){var e;return(null===(e=(0,L.ZD)())||void 0===e?void 0:e.isMiniWebView)?((0,B.yv)("由于您的访问过于频繁，请用浏览器访问metaso.cn进行验证(小程序暂不支持人机验证)",{variant:"warning"}),!1):(showCloudflareVerify(),!0)}var showCloudflareVerify=function(){var e=(0,L.ZD)();localStorage.setItem("cloudflareVerifySuccess","false"),location.href.indexOf("localhost")>-1?setTimeout(function(){localStorage.setItem("cloudflareVerifySuccess","true")},2e3):turnstile.render("#metalaw-cf-turnstile",{sitekey:"0x4AAAAAAAQOPvhuv77B9173",callback:function(t){var n=e.backend+"/api/cloudflare/verify";fetch(n,getFetchCommonOptions({token:t})).then(function(e){return e.json()}).then(function(e){if(!0===JSON.parse(e.data).success){localStorage.setItem("cloudflareVerifySuccess","true");var t=document.querySelector(".cf-turnstile");t&&(t.innerHTML="")}}).catch(function(e){})},"error-callback":function(t){var n=e.backend+"/api/cloudflare/failed";fetch(n,getFetchCommonOptions({})).then(function(e){}).catch(function(e){})},"before-interactive-callback":function(){var t=e.backend+"/api/cloudflare/beforeInteractive";fetch(t,getFetchCommonOptions({})).then(function(e){}).catch(function(e){})},"timeout-callback":function(){var t=e.backend+"/api/cloudflare/timeout";fetch(t,getFetchCommonOptions({})).then(function(e){}).catch(function(e){})}})},verify=function(e,t){var n=getCookie("sid");return F.post("/verify?type=".concat(e,"&sid=").concat(n),t)},verifyEmailCode=function(e){var t=getCookie("sid");return F.get("/verify?type=new_email&content=".concat(e,"&sid=").concat(t))},getPhoneCode=function(e,t){return F.post("".concat(W,"/verify?type=").concat(e.type),t)},checkPhoneCode=function(e){return F.get("".concat(W,"/verify"),{params:e})},getValid=function(e){return F.get("".concat(W,"/verify"),{params:e})},loginByAccount=function(e,t){return H.post("".concat(W,"/login"),e,t)},loginByPhone=function(e){return H.post("".concat(W,"/login"),e)},myInfo=function(){return H.get("/api/my-info")},getProducts=function(e){return H.get("".concat(W,"/products"),{params:e})},getQRCodeStatus=function(e){return H.get("".concat(W,"/orders/").concat(e.order_no,"/status"))},makeOrder=function(e){return H.post("".concat(W,"/orders"),e)},_logToES=function(e){return H.post("".concat(W,"/admin/user/event_report"),e)},requestLogin=function(e,t){var n=E.ZP.load("s")?E.ZP.load("s"):"";return H.post("".concat(W,"/user?s=").concat(n),e).then(function(e){t({user:e.data})}).catch(function(e){e.data?t({user:e.data}):t({user:{msg:"服务器繁忙，请稍后再试"}})})},getTeamByParams=function(e){return H.get("".concat(W,"/teams"),{params:e})},z=(a=(0,h._)(function(){return(0,_.Jh)(this,function(e){switch(e.label){case 0:return[4,H.post("/api/logout")];case 1:return e.sent(),[2,H.post("".concat(W,"/logout"))]}})}),function(){return a.apply(this,arguments)}),submitUserVisite=function(e){return H.post("".concat(W,"/preregister"),e)},addTeamMembers=function(e){return H.post("".concat(W,"/teams/").concat(e.team_id,"/members/").concat(e.member_uid))},getUserListByManager=function(e){return H.get("".concat(W,"/user/by-manager"),{params:e})},addTeam=function(e,t){return H.post("".concat(W,"/teams/members/").concat(e.member_uid),t)},getTeam=function(e){return H.get("".concat(W,"/teams/").concat(e.team_id),{params:e})},getTeamMembers=function(e){return H.get("".concat(W,"/teams/").concat(e.team_id,"/members"),{params:e})},deleteTeamMember=function(e){return H.delete("".concat(W,"/teams/").concat(e.team_id,"/members/").concat(e.member_uid))},setTeamManagers=function(e){return H.post("".concat(W,"/teams/").concat(e.team_id,"/managers/").concat(e.member_uid))},deleteTeamManagers=function(e){return H.delete("".concat(W,"/teams/").concat(e.team_id,"/managers/").concat(e.member_uid))},deleteChatHistory=function(e){return H.delete("/api/chat-history/".concat(e))},addChatHistory=function(e){return H.post("/api/chat-history",e)},generateUUID=function(){var e=new Date().getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})},eventExtract=function(e){return F.post("/api/event-extraction",{resultId:e})},caseMindMapping=function(e,t){return F.post("/api/mind-mapping",{resultId:e})},createCaseSearchSession=function(e){return F.post("/api/case-session",{id:"",store:e})},getSearchList=function(e){return F.get("/api/search-history",{params:e})},updateCaseComment=function(e,t,n,r){return F.post("/api/case/comment",{sessionId:e,level:t,id:n,comment:r})},updateCaseRelationShip=function(e,t,n,r,o){return F.post("/api/case/relationShipChart",{sessionId:e,level:t,id:n,code:r,base64:o})},exportDocx=function(e,t){return F({url:"/api/export/docx/".concat(t),method:"post",data:e,responseType:"blob"})},V=(i=(0,h._)(function(e,t){var n;return(0,_.Jh)(this,function(r){switch(r.label){case 0:return[4,H.post("/api/export/docx/".concat(t,"/v2"),e)];case 1:if(0===(n=r.sent()).data.errCode)return[2,n.data.data];if(K.isNeedLoginErrorCode(n.data.errCode))throw new K(n.data.errCode,"需要登录");if(n.data.errCode===x.cO.NEED_SUBSCRIBE)throw new K(n.data.errCode,"导出类案检索报告的次数已用尽，升级后可继续使用");throw Error("提交失败")}})}),function(e,t){return i.apply(this,arguments)}),J=(s=(0,h._)(function(e,t){var n;return(0,_.Jh)(this,function(r){switch(r.label){case 0:return[4,V(e,t)];case 1:return n=r.sent(),[2,"/api/export/docx/download?uuid=".concat(n,"&title=").concat(e.title)]}})}),function(e,t){return s.apply(this,arguments)}),K=function(e){(0,v._)(MetaError,e);var t=(0,C._)(MetaError);function MetaError(e,n){var r;return(0,g._)(this,MetaError),(r=t.call(this,n)).code=e,r.name="NeedLoginError",r}return MetaError.prototype.isNeedLoginError=function(){return MetaError.isNeedLoginErrorCode(this.code)},MetaError.isNeedLoginErrorCode=function(e){return e===x.cO.NO_AUTH||e===x.cO.CREDIT_RUN_OUT||e===x.cO.REMAIN_CREDIT},MetaError.isRequestFrequentlyErrorCode=function(e){return e===x.cO.TOO_MANY_REQUESTS},MetaError}((0,b._)(Error)),Z=(c=(0,h._)(function(e,t){var n;return(0,_.Jh)(this,function(r){switch(r.label){case 0:return[4,H.post("/api/export/pdf/submit/".concat(t),e)];case 1:if(0===(n=r.sent()).data.errCode)return[2,n.data.data];if(K.isNeedLoginErrorCode(n.data.errCode))throw new K(n.data.errCode,"需要登录");if(n.data.errCode===x.cO.NEED_SUBSCRIBE)throw new K(n.data.errCode,"导出类案检索报告的次数已用尽，升级后可继续使用");throw Error("提交失败")}})}),function(e,t){return c.apply(this,arguments)}),Q=(u=(0,h._)(function(e){var t,n,r;return(0,_.Jh)(this,function(o){switch(o.label){case 0:t=0,o.label=1;case 1:if(++t>100)throw Error("超时");return[4,H.get("/api/export/pdf/status?uuid=".concat(e))];case 2:if(-1===(r=(n=o.sent()).data.data)||0!==n.data.errCode){if(401===n.data.errCode||4001==n.data.errCode)throw new K(n.data.errCode,"需要登录");throw Error("转换失败")}if(2===r)return[2];return[4,new Promise(function(e){return setTimeout(e,3e3)})];case 3:return o.sent(),[3,1];case 4:return[2]}})}),function(e){return u.apply(this,arguments)}),q=(l=(0,h._)(function(e,t){var n;return(0,_.Jh)(this,function(r){switch(r.label){case 0:return[4,Z(e,t)];case 1:return[4,Q(n=r.sent())];case 2:var o;return r.sent(),[2,(o=n,H({url:"/api/export/pdf/download?uuid=".concat(o),method:"get",responseType:"blob"}))]}})}),function(e,t){return l.apply(this,arguments)}),X=(d=(0,h._)(function(e,t){var n;return(0,_.Jh)(this,function(r){switch(r.label){case 0:return[4,Z(e,t)];case 1:return[4,Q(n=r.sent())];case 2:return r.sent(),[2,"/api/export/pdf/download?uuid=".concat(n,"&title=").concat(e.title)]}})}),function(e,t){return d.apply(this,arguments)}),autoLogin=function(e){return H.get("/login/auto?sid=".concat(e))},getShareRewardRecord=function(){return H.get("/api/share-reward/status")},getAllShareRewardRecord=function(e,t,n,r,o){return H.get("/api/admin/share-reward",{params:{pageIndex:e,pageSize:t,onlyUncheck:n,startDate:r,endDate:o}})},rewardRecord=function(e){return H.patch("/api/admin/share-reward/review",e)},modifyUserInfo=function(e){var t=getCookie("uid"),n=getCookie("sid");return H.patch("".concat(W,"/user/").concat(t,"?sid=").concat(n),e)},uploadForMetaso=function(e){var t=getCookie("sid");return F({url:"".concat(W,"/upload/?sid=").concat(t),method:"post",data:e})},changeUserPassword=function(e){var t=getCookie("sid");return F({url:"".concat(W,"/password/?sid=").concat(t),method:"post",data:e})},getPicture=function(e){return H.post("/api/captcha/get",e,{withCredentials:!0})},reqCheck=function(e){return H.post("/api/captcha/check",e,{withCredentials:!0})},reqVerify=function(e){return H.post("/api/captcha/verify",e,{withCredentials:!0})},getInvoices=function(e){return H.get("".concat(W,"/invoices"),{params:e})},getUserOrders=function(e){return H.get("".concat(W,"/orders"),{params:e})},getInvoiceHeader=function(e){return H.get("".concat(W,"/invoiceheaders"),{params:e})},addInvoiceHeaders=function(e){return H.post("".concat(W,"/invoiceheaders"),e)},editorInvoiceHeaders=function(e){return H.patch("".concat(W,"/invoiceheaders/").concat(e.invoice_header_id),e)},deleteInvoiceHeaders=function(e){return H.delete("".concat(W,"/invoiceheaders/").concat(e.invoice_header_id))},getDownloadUrl=function(e){return H.post("".concat(W,"/download"),e)},submitInvoices=function(e){return H.post("".concat(W,"/invoices"),e)},createSession=function(e){(0,N.oh)("search");try{(0,N.dW)("search-create-session",{query:e.question,s:new URLSearchParams(location.search).get("s")||localStorage.getItem("s")||E.ZP.load("s"),mode:e.mode,engineType:e.engineType,client:(0,L.Fk)()})}catch(e){}return F.post("/api/session",e)},getSearchRecord=function(e,t){return F.get("/api/session/".concat(e),{params:{accessKey:t}})},getGroupSession=function(e,t,n){return F.get("/api/group/".concat(e,"/session"),{params:{engineType:t,languageDomain:n}})},getShareKey=function(e){return F.get("/api/session/".concat(e,"/shareKey"))},deleteSession=function(e){return F.delete("/api/session/".concat(e))},clearHistory=function(){return F.delete("/api/clear-history")},getUsage=function(){return F.get("/api/usage")},getResearchUsage=function(){return F.get("/api/research-usage")},getEntityExtraction=function(e){return F.post("/api/entity-extraction",{resultId:e})},getExtensionReading=function(e){return F.post("/api/extension-reading",{resultId:e})},updateExtensionReading=function(e){return F.patch("/api/user-extension-reading",{enable:e})},copySessions=function(e){return F.post("/api/copy-session",{sessionIds:e})},getQuestion=function(e,t){return F.post("/api/question",{question:e,path:t})},getMetaSoProducts=function(){return F.get("/api/products")},getCookie=function(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].trim();if(0===r.indexOf(e+"="))return r.substring(e.length+1,r.length)}return null};(f=p||(p={})).DOCX="docx",f.PDF="pdf",f.CAT="xiezuocat";var wxConfigUranusValidate=function(e,t){return H.get("".concat(W,"/wxjssdkconf"),{params:{client_type:"mb",url:e},signal:t})},getOpenId=function(e){return H.get("".concat(W,"/wx_applets/tokeninfo"),{params:{name:"mb",code:e}})},serverLog=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="",o=!0,a=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;if("string"!=typeof u)try{u=JSON.stringify(u)}catch(e){u="string"!=typeof u&&"toString"in u?u.toString():"[无法转换的片段]"}r+=u}}catch(e){a=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}H.get("/log",{params:{text:r}})},getXfUrl=function(e){return F.get("/api/record/websocket/url",{signal:e})},writeMdToXiezuocat=function(e,t){return F.post("/api/export/xiezuocat/md",{title:e,md:t})},getMetasoAIConfig=function(){return F.get("/api/metaso-ai-config")},saveFeedback=function(e){return F.post("/api/feed-back",e)},getFeedbacks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return F.get("/api/feed-backs?pageNumber=".concat(e,"&pageSize=").concat(t))},translateText=function(e){return F.post("/api/translate",{content:e})},getSearchPptData=function(e){return F.get("/api/result/".concat(e,"/ppt"))},checkResultExist=function(e){return F.get("/api/result/".concat(e,"/exist"))},logOff=function(){return F.post("/user/logoff")},writeMindToXiezuocat=function(e,t,n){return F.post("/api/export/xiezuocat/mind",{title:e,md:t,references:n})}},82586:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(57437),o=n(2265),a=n(94477),i=n.n(a),s=(0,o.forwardRef)(function(e,t){var n;return(0,r.jsxs)("button",{ref:t,className:i()["icon-button"]+" ".concat(e.bordered&&i().border," ").concat(e.shadow&&i().shadow," ").concat(null!==(n=e.className)&&void 0!==n?n:""," clickable"),onClick:e.onClick,title:e.title,disabled:e.disabled,role:"button",children:[e.icon&&(0,r.jsx)("div",{className:i()["icon-button-icon"]+" ".concat("primary"===e.type&&"no-dark"),children:e.icon}),e.text&&(0,r.jsx)("div",{className:i()["icon-button-text"],children:e.text})]})});s.displayName="IconButton"},44519:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(6336),o=n(22977),a=n(6408),i=n(93891),s=n(57437),c=n(2265),u=n(54112),l=n(80704);n(8066);var d={src:"https://static.metaso.cn/_next/static/media/default.910183a3.jpg"},f=n(35069),m=function(e){(0,a._)(VerifySlide,e);var t=(0,i._)(VerifySlide);function VerifySlide(e){var n;return(0,o._)(this,VerifySlide),(n=t.call(this,e)).refresh=function(){n.getData(),n.tempState.status=!1,n.tempState.isEnd=!1,n.setState({moveBlockLeft:"",leftBarWidth:"",text:"向右滑动完成验证",moveBlockBackgroundColor:"#fff",leftBarBorderColor:"#337AB7",iconColor:"#fff",status:!1,isEnd:!1})},n.setBarArea=function(e){var t=e&&e.getBoundingClientRect().left,r=e&&e.offsetWidth;n.tempState.barAreaLeft=t,n.tempState.barAreaOffsetWidth=r},n.start=function(e){if((e=e||window.event).touches)var t=e.touches[0].pageX;else var t=e.clientX;n.tempState.startLeft=Math.floor(t-n.tempState.barAreaLeft),n.tempState.startMoveTime=+new Date,!1==n.tempState.isEnd&&(n.tempState.status=!0,n.setState({text:"",moveBlockBackgroundColor:"#337ab7",leftBarBorderColor:"#337AB7",iconColor:"#fff",status:!0}),n.text="",e.stopPropagation())},n.move=function(e){if(e=e||window.event,n.tempState.status&&!1==n.tempState.isEnd){if(e.touches)var t=e.touches[0].pageX;else var t=e.clientX;var r=t-n.tempState.barAreaLeft;r>=n.tempState.barAreaOffsetWidth-parseInt(n.tempState.blockSize.width)/2-2&&(r=n.tempState.barAreaOffsetWidth-parseInt(n.tempState.blockSize.width)/2-2),r<=0&&(r=n.tempState.blockSize.width/2),n.tempState.moveBlockLeft=r-n.tempState.startLeft+"px",n.tempState.leftBarWidth=r-n.tempState.startLeft+"px",n.setState({moveBlockLeft:n.tempState.moveBlockLeft,leftBarWidth:n.tempState.leftBarWidth})}},n.end=function(){if(n.tempState.endMovetime=+new Date,(0,r._)(n),n.tempState.status&&!1==n.tempState.isEnd){var e=parseInt((n.tempState.moveBlockLeft||"").replace("px",""));e=310*e/parseInt(n.tempState.setSize.imgWidth);var t={captchaType:n.state.captchaType,pointJson:n.state.secretKey?(0,f.oj)(JSON.stringify({x:e,y:5}),n.state.secretKey):JSON.stringify({x:e,y:5}),token:n.state.backToken,clientUid:localStorage.getItem("slider"),ts:Date.now()};(0,u.U3)(t).then(function(t){"0000"==t.data.repCode?(n.tempState.isEnd=!0,n.tempState.passFlag=!0,n.tempState.tipWords="".concat(((n.tempState.endMovetime-n.tempState.startMoveTime)/1e3).toFixed(2),"s验证成功"),n.setState({tipWords:n.tempState.tipWords,passFlag:n.tempState.passFlag}),setTimeout(function(){var t=RegExp("(^|&)phone=([^&]*)(&|$)","i");-1!==window.location.search.indexOf("phone")&&unescape(window.location.search.substr(1).match(t)[2]);var r=RegExp("(^|&)realIp=([^&]*)(&|$)","i");-1!==window.location.search.indexOf("realIp")&&unescape(window.location.search.substr(1).match(r)[2]);var o={captchaVerification:n.state.secretKey?(0,f.oj)(n.state.backToken+"---"+JSON.stringify({x:e,y:5}),n.state.secretKey):n.state.backToken+"---"+JSON.stringify({x:e,y:5})};if(n.props.isMiniWebView)o.phone=n.props.phone,o.realIp=n.props.realIp;else{var a=n.getUserInfo();o.phone=a.verify.params.phone,o.realIp=a.verify.params.realIp}(0,u.QE)(o).then(function(e){0===e.data.errCode&&n.props.onSuccess&&n.props.onSuccess()})},1e3)):(n.tempState.isEnd=!0,n.tempState.passFlag=!1,n.setState({isEnd:!0,moveBlockBackgroundColor:"#d9534f",leftBarBorderColor:"#d9534f",iconColor:"#fff",iconClass:"icon-close",passFlag:!1,tipWords:t.data.repMsg||"验证失败"}),setTimeout(function(){n.refresh(),n.setState({tipWords:""})},1e3))}),n.tempState.status=!1}},n.state={blockSize:{width:"50px",height:"50px"},setSize:{imgHeight:200,imgWidth:310,barHeight:40,barWidth:310},backImgBase:"",blockBackImgBase:"",backToken:"",startMoveTime:"",endMovetime:"",tipsBackColor:"",secretKey:"",captchaType:"blockPuzzle",moveBlockBackgroundColor:"rgb(255, 255, 255)",leftBarBorderColor:"",iconColor:"",barAreaLeft:0,barAreaOffsetWidth:0,startLeft:null,moveBlockLeft:null,leftBarWidth:null,status:!1,isEnd:!1,passFlag:"",tipWords:"",iconClass:"",text:"向右滑动完成验证"},n.text="",n.tempState={blockSize:{width:"50px",height:"50px"},setSize:{imgHeight:200,imgWidth:310,barHeight:40,barWidth:310},backImgBase:"",blockBackImgBase:"",backToken:"",startMoveTime:"",endMovetime:"",tipsBackColor:"",secretKey:"",captchaType:"blockPuzzle",moveBlockBackgroundColor:"rgb(255, 255, 255)",leftBarBorderColor:"",iconColor:"",barAreaLeft:0,barAreaOffsetWidth:0,startLeft:null,moveBlockLeft:null,leftBarWidth:null,status:!1,isEnd:!1,passFlag:"",tipWords:"",iconClass:"",text:"向右滑动完成验证"},n}var n=VerifySlide.prototype;return n.getUserInfo=function(){return JSON.parse(localStorage.getItem("chat-next-web-store-user")).state},n.componentDidMount=function(){this.uuid(),this.getData(),this.init()},n.uuid=function(){for(var e=[],t="0123456789abcdef",n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var r="slider-"+e.join(""),o="point-"+e.join("");localStorage.getItem("slider")||localStorage.setItem("slider",r),localStorage.getItem("point")||localStorage.setItem("point",o)},n.init=function(){var e=this;window.removeEventListener("touchmove",function(t){e.move(t)}),window.removeEventListener("mousemove",function(t){e.move(t)}),window.removeEventListener("touchend",function(){e.end()}),window.removeEventListener("mouseup",function(){e.end()}),window.addEventListener("touchmove",function(t){e.move(t)}),window.addEventListener("mousemove",function(t){e.move(t)}),window.addEventListener("touchend",function(){e.end()}),window.addEventListener("mouseup",function(){e.end()})},n.getData=function(){var e=this;(0,u.an)({captchaType:this.state.captchaType,clientUid:localStorage.getItem("slider"),ts:Date.now()}).then(function(t){"0000"===t.data.repCode&&e.setState({backImgBase:t.data.repData.originalImageBase64,blockBackImgBase:t.data.repData.jigsawImageBase64,backToken:t.data.repData.token,secretKey:t.data.repData.secretKey}),"6201"==t.data.repCode&&(e.setState({backImgBase:null,blockBackImgBase:null,leftBarBorderColor:"#d9534f",iconColor:"#fff",iconClass:"icon-close",passFlag:!1,tipWords:t.data.repMsg}),setTimeout(function(){e.setState({tipWords:""})},1e3))})},n.render=function(){var e=this,t=this.props,n=(t.mode,t.captchaType,t.vSpace),r=t.barSize,o=(t.showRefresh,t.transitionWidth,t.finishText),a=t.transitionLeft;return(0,s.jsxs)("div",{style:{position:"relative"},className:"stop-user-select",children:[(0,s.jsx)("div",{className:"verify-img-out",style:{height:this.state.setSize.imgHeight+n},children:(0,s.jsxs)("div",{className:"verify-img-panel",style:{width:this.state.setSize.imgWidth,height:this.state.setSize.imgHeight},children:[this.state.backImgBase?(0,s.jsx)("img",{src:"data:image/png;base64,"+this.state.backImgBase,alt:"",style:{width:"100%",height:"100%",display:"block"}}):(0,s.jsx)("img",{src:d.src,alt:"",style:{width:"100%",height:"100%",display:"block"}}),(0,s.jsx)("div",{className:"verify-refresh",onClick:function(){return e.refresh()},children:(0,s.jsx)("i",{className:"iconfont icon-refresh"})}),(0,s.jsx)(l.Z,{in:this.state.tipWords.length>0,timeout:150,classNames:"tips",unmountOnExit:!0,children:(0,s.jsx)("span",{className:this.state.passFlag?"verify-tips suc-bg":"verify-tips err-bg",children:this.state.tipWords})})]})}),(0,s.jsxs)("div",{className:"verify-bar-area",style:{width:this.state.setSize.imgWidth,height:r.height,lineHeight:r.height},ref:function(t){return e.setBarArea(t)},children:[(0,s.jsx)("span",{className:"verify-msg",children:this.state.text}),(0,s.jsxs)("div",{className:"verify-left-bar",style:{width:void 0!==this.state.leftBarWidth?this.state.leftBarWidth:r.height,height:r.height,borderColor:this.state.leftBarBorderColor},children:[(0,s.jsx)("span",{className:"verify-msg",children:o}),(0,s.jsxs)("div",{className:"verify-move-block",onTouchStart:function(t){return e.start(t)},onMouseDown:function(t){return e.start(t)},style:{width:r.height,height:r.height,backgroundColor:this.state.moveBlockBackgroundColor,left:this.state.moveBlockLeft,transition:a},children:[(0,s.jsx)("i",{className:"verify-icon iconfont icon-right",style:{color:this.state.iconColor}}),(0,s.jsx)("div",{className:"verify-sub-block",style:{width:Math.floor(47*this.state.setSize.imgWidth/310)+"px",height:this.tempState.setSize.imgHeight,top:"-"+(this.state.setSize.imgHeight+n)+"px",backgroundSize:this.state.setSize.imgWidth+" "+this.state.setSize.imgHeight},children:(0,s.jsx)("img",{src:"data:image/png;base64,"+this.state.blockBackImgBase,alt:"",style:{width:"100%",height:"100%",display:"block"}})})]})]})]})]})},VerifySlide}(c.Component);m.defaultProps={mode:"fixed",vSpace:5,imgSize:{width:"310px",height:"200px"},barSize:{width:"310px",height:"40px"},setSize:{imgHeight:200,imgWidth:310,barHeight:0,barWidth:0}};var p=m},33399:function(e,t,n){"use strict";n.d(t,{k:function(){return MetaDialog}});var r=n(35029),o=n(88965),a=n(8001),i=n(57437),s=n(2265),c=n(55740),u=n.n(c),l=n(25577),d=n(42744),f=n.n(d),m=n(54887),p=n(82748);function MetaDialog(e){var t=e.radius,n=e.open,c=e.onClose,d=e.maskSx,h=e.children,g=(0,a._)(e,["radius","open","onClose","maskSx","children"]);(0,p.Vo)("keyup",function(e){var t;(null===(t=e.key)||void 0===t?void 0:t.toUpperCase())==="ESCAPE"&&n&&(null==c||c("esc"))});var v=(0,s.useRef)(null);return(0,s.useEffect)(function(){n||document.body.scrollIntoView()},[n]),n?(0,m.createPortal)((0,i.jsx)(l.Z,{className:u()["meta-dialog-mask"],style:{display:"flex"},onClick:function(e){var t;e.target instanceof Node&&(null===(t=v.current)||void 0===t?void 0:t.contains(e.target))||null==c||c("clickAway")},sx:d||{},children:(0,i.jsx)(l.Z,(0,o._)((0,r._)({className:f()(u()["meta-dialog"],"meta-dialog"),ref:v,style:{borderRadius:void 0===t?10:t}},g),{children:h}))}),document.body):(0,i.jsx)(i.Fragment,{})}},50410:function(e,t,n){"use strict";n.d(t,{FJ:function(){return MetaSnackbarProvider},yv:function(){return i.yv}});var r,o,a=n(57437),i=n(36953),s=n(8001),c=n(60230),u=n(35843),l=n(98075),d=n(25577),f=n(43226),m=n(2265);function _templateObject(){var e=(0,c._)(["\n  padding: 8px 16px;\n  background-color: white;\n  border-radius: 4px;\n  width: 100%;\n  box-shadow: 0px 8px 32px 0px rgba(0, 0, 0, 0.08), 0px 2px 20px 0px rgba(0, 0, 0, 0.04);\n"]);return _templateObject=function(){return e},e}var p=(0,u.ZP)(l.Z,{name:"MessageBox"})(_templateObject()),h=(0,m.forwardRef)(function(e,t){var n=e.id,r=e.message,o=e.variant,c=e.className,u=e.style,l=(e.anchorOrigin,e.action),m=e.iconVariant;return(0,s._)(e,["id","message","variant","className","style","anchorOrigin","action","iconVariant"]),(0,a.jsx)(i.No,{ref:t,style:u,className:c,children:(0,a.jsxs)(p,{direction:"row",alignItems:u.alignItems||"start",children:[m[o]&&(0,a.jsx)(d.Z,{sx:{mr:.8,display:"inline",fontSize:0},children:m[o]}),(0,a.jsx)(f.Z,{fontSize:14,color:"#344054",children:r}),l&&(0,a.jsx)(d.Z,{children:"function"==typeof l?l(n):l})]})})});h.displayName="MetaMessageBox";var g=n(45164),v=n(90952);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var success_filled=function(e){return v.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},e),r||(r=v.createElement("path",{fill:"#47B881",d:"M9 17.25A8.25 8.25 0 1 0 9 .75a8.25 8.25 0 0 0 0 16.5m-.708-4.897L5.47 9.53l1.06-1.06 1.678 1.677 3.973-4.635 1.139.976z"})))};function warningIcon_extends(){return(warningIcon_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var warningIcon=function(e){return v.createElement("svg",warningIcon_extends({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),o||(o=v.createElement("path",{fill:"#FFAD0D",d:"M.833 10a9.167 9.167 0 1 1 18.334 0A9.167 9.167 0 0 1 .833 10m8.334 3.333V15h1.666v-1.667zm0-.833h1.666V5.833H9.167z"})))};function MetaSnackbarProvider(e){var t;return(0,a.jsx)(i.wT,{disableWindowBlurListener:!0,Components:{info:h,success:h,warning:h,error:h},iconVariant:{info:(0,a.jsx)(g.Z,{}),success:(0,a.jsx)(success_filled,{style:{color:"#1570ef"}}),warning:(0,a.jsx)(warningIcon,{})},style:{alignItems:null===(t=e.style)||void 0===t?void 0:t.alignItems},anchorOrigin:{vertical:"top",horizontal:"center"},children:e.children})}},68076:function(e,t,n){"use strict";n.d(t,{K4:function(){return showModal},CF:function(){return showToast}});var r=n(35029),o=n(88965),a=n(57437),i=n(14538),s=n.n(i);n(27563);var c=n(50934);n(90952);var u=n(34040),l=n(2265);function Modal(e){var t;return(0,l.useEffect)(function(){var onKeyDown=function(t){if("Escape"===t.key){var n;null===(n=e.onClose)||void 0===n||n.call(e)}};return window.addEventListener("keydown",onKeyDown),function(){window.removeEventListener("keydown",onKeyDown)}},[]),(0,l.useImperativeHandle)(e.ref,function(){return{close:function(){var t;null===(t=e.onClose)||void 0===t||t.call(e)}}}),(0,a.jsxs)("div",{className:s()["modal-container"]+" ".concat(e.containerClassNames),children:[(0,a.jsxs)("div",{className:s()["modal-header"]+" ".concat(e.headerClassNames),children:[(0,a.jsx)("div",{className:s()["modal-title"],children:e.title}),(0,a.jsx)("div",{className:s()["modal-close-btn"],onClick:e.onClose,children:(0,a.jsx)(c.Z,{})})]}),(0,a.jsx)("div",{className:s()["modal-content"]+" ".concat(e.contentClassNames),children:e.children}),(0,a.jsx)("div",{className:s()["modal-footer"]+" ".concat(e.footerClassNames),children:(0,a.jsx)("div",{className:s()["modal-actions"],children:null===(t=e.actions)||void 0===t?void 0:t.map(function(e,t){return(0,a.jsx)("div",{className:s()["modal-action"],children:e},t)})})})]})}function showModal(e){var t=document.createElement("div");t.className="modal-mask",e.modalClassNames&&t.classList.add(e.modalClassNames),document.body.appendChild(t);var n=(0,u.createRoot)(t),closeModal=function(){var r;null===(r=e.onClose)||void 0===r||r.call(e),n.unmount(),t.remove(),e.apiReceiver&&e.apiReceiver.closeCallback&&e.apiReceiver.closeCallback()};e.apiReceiver&&(e.apiReceiver.closeModal=closeModal),t.onclick=function(e){e.target===t&&closeModal()},n.render((0,a.jsx)(Modal,(0,o._)((0,r._)({},e),{onClose:closeModal})))}function Toast(e){return(0,a.jsx)("div",{className:s()["toast-container"],children:(0,a.jsxs)("div",{className:s()["toast-content"],children:[(0,a.jsx)("span",{children:e.content}),e.action&&(0,a.jsx)("button",{onClick:function(){var t,n,r;null===(n=e.action)||void 0===n||null===(t=n.onClick)||void 0===t||t.call(n),null===(r=e.onClose)||void 0===r||r.call(e)},className:s()["toast-action"],children:e.action.text})]})})}function showToast(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,r=document.createElement("div");r.className=s().show,document.body.appendChild(r);var o=(0,u.createRoot)(r),close=function(){r.classList.add(s().hide),setTimeout(function(){o.unmount(),r.remove()},300)};setTimeout(function(){close()},n),o.render((0,a.jsx)(Toast,{content:e,action:t,onClose:close}))}n(82586)},18833:function(e,t,n){"use strict";n.d(t,{Fk:function(){return getHostType},MC:function(){return i},ND:function(){return useSiteConfig},ZD:function(){return getSiteConfig}});var r=n(2265),o=n(46849),useSiteConfig=function(){return(0,r.useMemo)(function(){return getSiteConfig()},[])},a=null,i={isMyInfoLoaded:!1},getSiteConfig=function(){if(a)return a;if("undefined"==typeof document)return null;var e,t="metaso.cn"===(e=location.hostname)?"RELEASE":"metamiao.metaso.cn"===e?"PRE-RELEASE":"metamiaoalph.metasotalaw.cn"===e?"ALPH":e.startsWith("localhost")?"DEV":"TEST";return"TEST"===t?a={deployType:t,appid:"wx7697ffdde86d62e9",inviteCode:"METASODT-VOL37B0463C",sharePublicAppId:"wx4e62301b8a01ea81",redirect_uri:"https%3a%2f%2ftestmetalaw.lexueke.cn%2flogin",checker_url:"http://39.104.166.193:3001/",baseUrl:"https://xiezuocat.com/html",neptuneDomain:"https://metaso.cn",uranusDomain:"xiezuocat.com",ocr:"https://ocr.metaso.cn/#/",metacloud_url:"https://cloud.metaso.cn/",dsn:"https://d211a17cf14f4cd8a15fffeaae5dc4ab@sentry.metasotalaw.com/11",sampleDocId:1,enSampleDocId:4451271,domain:"metaso.cn",backend:"https://metaso.cn",projectName:"metaso-ai-beta",gsxtDomain:"http://www.gsxt.gov.cn/index.html",baikeDomain:"https://baike.baidu.com",metasoDomain:"https://metaso.cn",metaproDomain:"https://metapro.cn",mobileAppId:"wxecb45b26a27b4d8e"}:"DEV"===t?a={deployType:t,neptuneDomain:"https://metasotalaw.cn",uranusDomain:"metaso.cn",inviteCode:"METASODT-VOL37B0463C",appid:"wx7bae32381026968e",redirect_uri:"https%3a%2f%2fxiezuocat.com%2flogin",checker_url:"http://localhost:8090/",metacloud_url:"https://cloud.metasotalaw.cn/",dsn:"https://0840c43ddd104d96a383465ed18d7ec9@sentry.metasotalaw.com/10",baseUrl:"http://"+location.hostname+":8081/html",sampleDocId:1,enSampleDocId:365,aiWriteSampleDocId:1,domain:"172.168.1.190:8090",backend:"http://"+location.hostname,projectName:"metaso-ai-dev",gsxtDomain:"http://www.gsxt.gov.cn/index.html",baikeDomain:"https://baike.baidu.com",metasoDomain:"https://metasotalaw.cn",metaproDomain:"https://cloud.metasotalaw.cn",mobileAppId:"wxecb45b26a27b4d8e"}:"RELEASE"===t?a={deployType:t,appid:"wx58123abae5d5658b",domain:"metaso.cn",backend:"https://metaso.cn",publicAppId:"wx637ff0c7450c1918",inviteCode:"METASODT-VOL30C503C4",projectName:"metaso-ai",redirect_uri:"https%3a%2f%2fmetaso.cn%2flogin"}:"PRE-RELEASE"===t?a={deployType:t,appid:"wx58123abae5d5658b",domain:"metamiao.metaso.cn",backend:"https://metamiao.metaso.cn",publicAppId:"wx637ff0c7450c1918",inviteCode:"METASODT-VOL30C503C4",projectName:"metaso-ai-pre-release",redirect_uri:"https%3a%2f%2fmetamiao.metaso.cn%2flogin"}:"ALPH"===t&&(a={deployType:t,appid:"wx58123abae5d5658b",domain:"metamiaoalph.metasotalaw.cn",backend:"https://metamiaoalph.metasotalaw.cn",publicAppId:"wx637ff0c7450c1918",inviteCode:"METASODT-VOL30C503C4",projectName:"metaso-ai-alph",redirect_uri:"https%3a%2f%2fmetamiaoalph.metasotalaw.cn%2flogin"}),a&&"miniprogram"===window.__wxjs_environment&&(a.isMiniWebView=!0),a};function getHostType(){var e;return"undefined"==typeof document?"server":(null===(e=getSiteConfig())||void 0===e?void 0:e.isMiniWebView)?"minipro":(0,o.pb)(navigator.userAgent)?"h5":"desktop"}},378:function(e,t,n){"use strict";n.d(t,{KJ:function(){return i},en:function(){return c},re:function(){return a},yG:function(){return s}}),(r=a||(a={})).Email="support@metasota.ai",r.Phone="18500851381",r.ProjectName="秘塔AI搜索",r.ShareIcon="https://uranus-static.oss-cn-beijing.aliyuncs.com/meta_law/image/share-page.png",(o=i||(i={})).Chat="chat-next-web-store",o.User="chat-next-web-store-user",o.Access="access-control",o.Config="app-config",o.Mask="mask-store",o.Prompt="prompt-store",o.Update="chat-update",o.Data="data-store";var r,o,a,i,s=!1,c="h5-login-data"},3465:function(e,t,n){"use strict";n.d(t,{ZP:function(){return s},VQ:function(){return getLang}});var r=n(30744),o={WIP:"该功能仍在开发中……",Error:{Unauthorized:"访问密码不正确或为空，请前往[设置](/#/settings)页输入正确的访问密码，或者填入你自己的 OpenAI API Key。"},ChatItem:{ChatItemCount:function(e){return"".concat(e," 条对话")}},Chat:{SubTitle:function(e){return"与 MetaLaw 的 ".concat(e," 条对话")},Actions:{ChatList:"查看消息列表",CompressedHistory:"查看压缩后的历史 Prompt",Export:"导出聊天记录",Copy:"复制",Stop:"停止",Retry:"重试",Delete:"删除",Edit:"编辑",Submit:"提交",EditCancel:"取消"},Rename:"重命名对话",Typing:"正在输入…",Input:function(e){var t="".concat(e," 发送");return e===String(r.mQ.Enter)&&(t+="，Ctrl + Enter 换行"),t},Send:"发送",Config:{Reset:"清除记忆",SaveAs:"存为功能卡片"}},Export:{Title:"分享聊天记录",Copy:"全部复制",Download:"下载文件",Share:"分享到 ShareGPT",MessageFromYou:"来自你的消息",MessageFromMetaLaw:"来自 MetaLaw 的消息",Format:{Title:"导出格式",SubTitle:"可以导出 Markdown 文本或者 PNG 图片"},IncludeContext:{Title:"包含功能卡片上下文",SubTitle:"是否在消息中展示功能卡片上下文"},Steps:{Select:"选取",Preview:"预览"}},Select:{Search:"搜索消息",All:"选取全部",Latest:"最近几条",Clear:"清除选中"},Memory:{Title:"历史摘要",EmptyContent:"对话内容过短，无需总结",Send:"自动压缩聊天记录并作为上下文发送",Copy:"复制摘要",Reset:"[unused]",ResetConfirm:"确认清空历史摘要？"},Home:{NewChat:"新的聊天",DeleteChat:"确认删除选中的对话？",DeleteToast:"已删除会话",Revert:"撤销"},Settings:{Title:"设置",SubTitle:"设置选项",Actions:{ClearAll:"清除所有数据",ResetAll:"重置所有选项",Close:"关闭",ConfirmResetAll:"确认重置所有配置？",ConfirmClearAll:"确认清除所有数据？"},Lang:{Name:"Language",All:"所有语言"},Avatar:"头像",FontSize:{Title:"字体大小",SubTitle:"聊天内容的字体大小"},Update:{Version:function(e){return"当前版本：".concat(e)},IsLatest:"已是最新版本",CheckUpdate:"检查更新",IsChecking:"正在检查更新...",FoundUpdate:function(e){return"发现新版本：".concat(e)},GoToUpdate:"前往更新"},SendKey:"发送键",Theme:"主题",TightBorder:"无边框模式",SendPreviewBubble:{Title:"预览气泡",SubTitle:"在预览气泡中预览 Markdown 内容"},Mask:{Title:"功能中心启动页",SubTitle:"新建聊天时，展示功能中心"},Prompt:{Disable:{Title:"禁用提示词自动补全",SubTitle:"在输入框开头输入 / 即可触发自动补全"},List:"自定义提示词列表",ListCount:function(e,t){return"内置 ".concat(e," 条，用户定义 ").concat(t," 条")},Edit:"编辑",Modal:{Title:"提示词列表",Add:"新建",Search:"搜索提示词"},EditModal:{Title:"编辑提示词"}},HistoryCount:{Title:"附带历史消息数",SubTitle:"每次请求携带的历史消息数"},CompressThreshold:{Title:"历史消息长度压缩阈值",SubTitle:"当未压缩的历史消息超过该值时，将进行压缩"},Token:{Title:"API Key",SubTitle:"使用自己的 Key 可绕过密码访问限制",Placeholder:"OpenAI API Key"},Usage:{Title:"余额查询",SubTitle:function(e,t){return"本月已使用 $".concat(e,"，订阅总额 $").concat(t)},IsChecking:"正在检查…",Check:"重新检查",NoAccess:"输入 API Key 或访问密码查看余额"},AccessCode:{Title:"访问密码",SubTitle:"管理员已开启加密访问",Placeholder:"请输入访问密码"},Model:"模型 (model)",Temperature:{Title:"随机性 (temperature)",SubTitle:"值越大，回复越随机"},MaxTokens:{Title:"单次回复限制 (max_tokens)",SubTitle:"单次交互所用的最大 Token 数"},PresencePenalty:{Title:"话题新鲜度 (presence_penalty)",SubTitle:"值越大，越有可能扩展到新话题"}},Store:{DefaultTopic:"新的聊天",BotHello:"欢迎使用MetaLaw，您有任何法律问题都可以向我咨询，我会尽力为您解答。",Error:"出错了，稍后重试吧",Prompt:{History:function(e){return"这是历史聊天总结作为前情提要："+e},Topic:"使用四到五个字直接返回这句话的简要主题，不要解释、不要标点、不要语气词、不要多余文本，如果没有主题，请直接返回“闲聊”",Summarize:"简要总结一下对话内容，用作后续的上下文提示 prompt，控制在 200 字以内"}},Copy:{Success:"已写入剪切板",Failed:"复制失败，请赋予剪切板权限"},Context:{Toast:function(e){return"包含 ".concat(e," 条预设提示词")},Edit:"当前对话设置",Add:"新增预设对话",Clear:"上下文已清除",Revert:"恢复上下文"},Plugin:{Name:"插件"},Mask:{Name:"功能中心",Page:{Title:"预设角色功能卡片",SubTitle:function(e){return"".concat(e," 个预设角色定义")},Search:"搜索功能卡片",Create:"新建"},Item:{Info:function(e){return"包含 ".concat(e," 条预设对话")},Chat:"对话",View:"查看",Edit:"编辑",Delete:"删除",DeleteConfirm:"确认删除？"},EditModal:{Title:function(e){return"编辑预设功能卡片 ".concat(e?"（只读）":"")},Download:"下载预设",Clone:"克隆预设"},Config:{Avatar:"角色头像",Name:"角色名称",Sync:{Title:"使用全局设置",SubTitle:"当前对话是否使用全局模型设置",Confirm:"当前对话的自定义设置将会被自动覆盖，确认启用全局设置？"},HideContext:{Title:"隐藏预设对话",SubTitle:"隐藏后预设对话不会出现在聊天界面"}}},NewChat:{Return:"返回",Skip:"直接开始",NotShow:"不再展示",ConfirmNoShow:"确认禁用？禁用后可以随时在设置中重新启用。",Title:"功能中心",SubTitle:"场景任务一键完成，为您提供高效的生产力工具",More:"查看全部"},UI:{Confirm:"确认",Cancel:"取消",Close:"关闭",Create:"新建",Edit:"编辑"}},a=["cn"];function getLang(){var e=function(e){try{return localStorage.getItem(e)}catch(e){return null}}("lang");if(a.includes(null!=e?e:""))return e;var t=function(){try{return navigator.language.toLowerCase()}catch(e){return"cn"}}(),n=!0,r=!1,o=void 0;try{for(var i,s=a[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var c=i.value;if(t.includes(c))return c}}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return"cn"}var i={cn:o}[getLang()];!function merge(e,t){Object.keys(t).forEach(function(n){if(t[n]&&"object"==typeof t[n]){merge(e[n]=e[n]||{},t[n]);return}e[n]=t[n]})}(o,i);var s=o},30744:function(e,t,n){"use strict";n.d(t,{MG:function(){return m},mQ:function(){return a}});var r,o,a,i,s=n(35029),c=n(88965),u=n(61931),l=n(66997),d=n(378);(r=a||(a={})).Enter="Enter",r.CtrlEnter="Ctrl + Enter",r.ShiftEnter="Shift + Enter",r.AltEnter="Alt + Enter",r.MetaEnter="Meta + Enter",(o=i||(i={})).Auto="自动",o.Dark="夜间",o.Light="白天";var f={submitKey:"Enter",avatar:"1f603",fontSize:15,theme:"自动",tightBorder:!0,sendPreviewBubble:!0,sidebarWidth:0,disablePromptHint:!1,dontShowMaskSplashScreen:!0,modelConfig:{temperature:.5,max_tokens:2e3,presence_penalty:0,sendMemory:!0,historyMessageCount:32,compressMessageLengthThreshold:1e3}},m=(0,u.Ue)()((0,l.tJ)(function(e,t){return(0,c._)((0,s._)({},f),{reset:function(){e(function(){return(0,s._)({},f)})},update:function(n){var r=(0,s._)({},t());n(r),e(function(){return r})}})},{name:d.KJ.Config,version:2,migrate:function(e,t){return 2===t||(e.modelConfig.sendMemory=!0,e.modelConfig.historyMessageCount=4,e.modelConfig.compressMessageLengthThreshold=1e3,e.dontShowMaskSplashScreen=!1),e}}))},70815:function(e,t,n){"use strict";n.d(t,{aK:function(){return O},LM:function(){return I}});var r,o=n(35029),a=n(98499),i=n(61931),s=n(66997),c=n(3465),u=n(68076),l=n(88965),d={buildinId:1e5,masks:{},get:function(e){if(e)return this.masks[e]},add:function(e){var t=(0,l._)((0,o._)({},e),{id:this.buildinId++,builtin:!0});return this.masks[t.id]=t,t}},f=(0,a._)([{avatar:"1f63e",name:"招投标咨询",context:[{role:"user",content:"我想让你做我的法律顾问，针对招投标一系列问题给出建议。我将具体描述一种法律情况，您将就如何处理它提供建议。只需要回复你的建议，而不是其他。",date:""}],modelConfig:{temperature:1,max_tokens:2e3,presence_penalty:0,sendMemory:!1,historyMessageCount:4,compressMessageLengthThreshold:1e3},lang:"cn",builtin:!0},{avatar:"1f63e",name:"劳动纠纷咨询",context:[{role:"user",content:"我想让你做我的法律顾问，针对劳动关系确认、劳动合同、工资、试用期、五险一金、假期、调岗调薪、违约金、辞职辞退等问题给出相关建议。我将具体描述一种法律情况，您将就如何处理它提供建议。只需要回复你的建议，而不是其他。",date:""}],modelConfig:{temperature:1,max_tokens:2e3,presence_penalty:0,sendMemory:!1,historyMessageCount:4,compressMessageLengthThreshold:1e3},lang:"cn",builtin:!0},{avatar:"1f63e",name:"工伤赔偿咨询",context:[{role:"user",content:"我想让您做我的法律顾问，分析发生工伤后，如何认定为工伤以及如何主张赔偿等问题。我将具体描述一种法律情况，您将就如何处理它提供建议。只需要回复你的建议，而不是其他。",date:""}],modelConfig:{temperature:1,max_tokens:2e3,presence_penalty:0,sendMemory:!1,historyMessageCount:4,compressMessageLengthThreshold:1e3},lang:"cn",builtin:!0},{avatar:"1f63e",name:"民间借贷咨询",context:[{role:"user",content:"我想让您做我的法律顾问，帮我解决个人、企业之间（不包括银行等金融机构）的借贷关系是否成立，需要偿还多少欠款等问题。我将具体描述一种法律情况，您将就如何处理它提供建议。只需要回复你的建议，而不是其他。",date:""}],modelConfig:{temperature:1,max_tokens:2e3,presence_penalty:0,sendMemory:!1,historyMessageCount:4,compressMessageLengthThreshold:1e3},lang:"cn",builtin:!0}]).concat((0,a._)([])).map(function(e){return d.add(e)}),m=n(30744),p=n(378),h={masks:{},globalMaskId:0},createEmptyMask=function(){return{id:1145141919810,avatar:"gpt-bot",name:A,context:[],syncGlobalConfig:!0,modelConfig:(0,o._)({},m.MG.getState().modelConfig),lang:(0,c.VQ)(),builtin:!1}};(0,i.Ue)()((0,s.tJ)(function(e,t){return(0,l._)((0,o._)({},h),{create:function(n){e(function(){return{globalMaskId:t().globalMaskId+1}});var r=t().globalMaskId,a=t().masks;return a[r]=(0,l._)((0,o._)({},createEmptyMask(),n),{id:r,builtin:!1}),e(function(){return{masks:a}}),a[r]},update:function(n,r){var a=t().masks,i=a[n];if(i){var s=(0,o._)({},i);r(s),a[n]=s,e(function(){return{masks:a}})}},delete:function(n){var r=t().masks;delete r[n],e(function(){return{masks:r}})},get:function(e){return t().masks[null!=e?e:1145141919810]},getAll:function(){return Object.values(t().masks).sort(function(e,t){return t.id-e.id}).concat(f)},search:function(e){return Object.values(t().masks)}})},{name:p.KJ.Mask,version:2}));var g=n(54112),v=n(16687),y=n(50044),S=n(96521),b=n(82626),C=n(25154),_=n(50410),w=n(35069),E=n(23670),x=n(18833),k=n(46849),T=new Map,M=(0,i.Ue)()((0,s.tJ)(function(e,t){return{login:!1,userInfo:null,teamInfo:null,usage:null,hasHydrated:!1,verify:null,openId:null,lastOrderInfo:null,initialMyInfoLoaded:!1,extensionReadingEnable:!0,advancedSearchEnable:!1,defaultLanguage:void 0,setExtensionReadingEnable:function(t){e({extensionReadingEnable:t})},setAdvancedSearchEnable:function(t){e({advancedSearchEnable:t})},setDefaultLanguage:function(t){e({defaultLanguage:t})},setHydrated:function(t){e({hasHydrated:t})},logOut:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,v._)(function(){var r,o,a;return(0,y.Jh)(this,function(i){switch(i.label){case 0:if(o=function(){var e="."+location.host.split(".").slice(-2).join(".");["uid","sid","register"].forEach(function(t){C.ZP.save(t,"0",{domain:e,expires:new Date(0)})})},t)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,(0,g.YS)().then(w.Jj)];case 2:return i.sent(),[3,4];case 3:if(a=i.sent(),n)return[2];return(0,_.yv)((null==a?void 0:a.message)||"登出发生未知错误",{variant:"error",autoHideDuration:3e3}),[2];case 4:return o(),(null===(r=(0,x.ZD)())||void 0===r?void 0:r.isMiniWebView)&&(0,k.mH)().then(function(e){var t=[{type:E.a.LogOut}];e.miniProgram.postMessage({data:t})}),e({login:!1,userInfo:null}),[2]}})})()},logIn:function(t){e({login:!0,initialMyInfoLoaded:!0,userInfo:t.user,teamInfo:t.team})},updateVerify:function(t){e({verify:t})},updateUserInfo:function(){return(0,v._)(function(){return(0,y.Jh)(this,function(t){return[2,(0,g.Aw)().then(function(e){if(e.data.errCode!==S.cO.SAFE)throw Error(e.data.errMsg||"未知错误");return e}).then(function(t){e({login:!0,userInfo:t.data.data.user,teamInfo:t.data.data.team})})]})})()},setLogin:function(t){e({login:t})},setUserInfo:function(t){e({userInfo:t})},setMetasoAIConfig:function(t){e({metasoAIConfig:t,messageClosed:!1})},setMessageClosed:function(){e({messageClosed:!0})},setUsage:function(t){e({usage:t})},productType:function(){var e,n,r,o=t();return(null===(e=o.userInfo)||void 0===e?void 0:e.isTeamActive)&&(null===(n=o.userInfo)||void 0===n?void 0:n.isTeamActive)===1&&new Date(o.teamInfo.checkerDeadline).getTime()>new Date().getTime()?S.kv.TEAM:(null===(r=o.userInfo)||void 0===r?void 0:r.expiryDate)&&new Date(o.userInfo.expiryDate).getTime()>new Date().getTime()?S.kv.PERSONAL:S.kv.FREE}}},{name:p.KJ.User,version:1,skipHydration:!0,onRehydrateStorage:function(){return function(e){e&&(e.hasHydrated||e.setHydrated(!0),T.set(p.KJ.User,e))}}})),I=new Proxy(M,{apply:function(e,t,n){"undefined"!=typeof document&&(0,b.Z)(e);var r=e.apply(t,n);return T.set(p.KJ.User,r),r}}),A=c.ZP.Store.DefaultTopic;function createEmptySession(){return{id:Date.now()+Math.random(),topic:A,showHome:!0,memoryPrompt:"",messages:[],stat:{tokenCount:0,wordCount:0,charCount:0},lastUpdate:Date.now(),lastSummarizeIndex:0,isResult:!1,mask:createEmptyMask(),showHello:!1,elementCache:{},cards:[]}}r={role:"assistant",content:c.ZP.Store.BotHello},(0,o._)({id:Date.now(),date:new Date().toLocaleString(),role:"user",content:"",isEditing:!1},r);var O=(0,i.Ue)()((0,s.tJ)(function(e,t){return{backPath:null,userInfo:null,sessions:[createEmptySession()],historySessions:[],currentSessionIndex:0,globalId:0,saveOrUpdateCurrentSessionInterval:null,saveOrUpdateCurrentSessionTimes:0,clearSessions:function(){e(function(){return{sessions:[createEmptySession()],currentSessionIndex:0}})},selectSession:function(t){e({currentSessionIndex:t})},moveSession:function(t,n){e(function(e){var r=e.sessions,o=e.currentSessionIndex,i=(0,a._)(r),s=i[t];i.splice(t,1),i.splice(n,0,s);var c=o===t?n:o;return o>t&&o<=n?c-=1:o<t&&o>=n&&(c+=1),{currentSessionIndex:c,sessions:i}})},moveToSession:function(n){for(var r=t().sessions,o=-1,a=0;a<r.length;a++){var i=r[a];if(n.id==i.id){o=a;break}}-1==o&&(r.push(n),o=r.length-1),e(function(){return{sessions:r,currentSessionIndex:o}})},newSession:function(n,r){clearInterval(t().saveOrUpdateCurrentSessionInterval),t().saveOrUpdateCurrentSessionTimes=0;var a=createEmptySession();a.showHome=n,a.showHello=!0,e(function(){return{globalId:t().globalId+1}}),r&&(a.mask=(0,o._)({},r),a.topic=r.name),e(function(e){return{currentSessionIndex:0,sessions:[a].concat(e.sessions)}})},newSessionClick:function(e,n){if(T.get(p.KJ.User).login){var r=t().historySessions;r[0].messages.length>0?t().newSession(e||!1):t().updateCurrentSession(function(t){t.id=r[0].id,t.topic=r[0].topic,t.messages=r[0].messages,t.cards=r[0].cards,t.concreteProblems=r[0].concreteProblems,t.concreteProblemsShow=r[0].concreteProblemsShow,t.legalElements=r[0].legalElements,t.elementCache=r[0].elementCache,t.showHome=e||r[0].showHome,t.showHello=r[0].showHello})}else t().newSession(e||!1);n&&n()},deleteSession:function(n){var r=1===t().sessions.length;if(t().sessions.at(n)){var o=t().sessions.slice();o.splice(n,1);var a=t().currentSessionIndex,i=Math.min(a-Number(n<a),o.length-1);r&&(i=0,o.push(createEmptySession()));var s={currentSessionIndex:t().currentSessionIndex,sessions:t().sessions.slice()};e(function(){return{currentSessionIndex:i,sessions:o}}),(0,u.CF)(c.ZP.Home.DeleteToast,{text:c.ZP.Home.Revert,onClick:function(){e(function(){return s})}},5e3)}},currentSession:function(){var n=t().currentSessionIndex,r=t().sessions;return(n<0||n>=r.length)&&(n=Math.min(r.length-1,Math.max(0,n)),e(function(){return{currentSessionIndex:n}})),r[n]},onNewMessage:function(e,n){t().updateCurrentSession(function(e){e.lastUpdate=Date.now()},n)},loginSuccess:function(){},getMemoryPrompt:function(){var e=t().currentSession();return{role:"system",content:e.memoryPrompt.length>0?c.ZP.Store.Prompt.History(e.memoryPrompt):"",date:""}},getMessagesWithMemory:function(){var e,n=t().currentSession(),r=n.mask.modelConfig,o=n.messages.slice(null!==(e=n.clearContextIndex)&&void 0!==e?e:0).filter(function(e){return!e.isError}),a=o.length,i=n.mask.context.slice();if(r.sendMemory&&n.memoryPrompt&&n.memoryPrompt.length>0){var s=t().getMemoryPrompt();i.push(s)}for(var c=Math.max(Math.max(0,a-r.historyMessageCount),n.lastSummarizeIndex),u=2*r.compressMessageLengthThreshold,l=[],d=a-1,f=0;d>=c&&f<u;d-=1){var m=o[d];m&&!m.isError&&(f+=m.content.length,l.push(m))}return i.concat(l.reverse())},updateMessage:function(n,r,o){var a=t().sessions,i=a.at(n),s=null==i?void 0:i.messages;o(null==s?void 0:s.at(r)),e(function(){return{sessions:a}})},resetSession:function(){t().updateCurrentSession(function(e){e.messages=[],e.memoryPrompt=""})},updateStat:function(e,n){t().updateCurrentSession(function(t){t.stat.charCount+=e.content.length},n)},setHistorySessions:function(e){t().historySessions=e},updateCurrentSession:function(n,r){var getCardsLength=function(e){var t=0,n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;t+=s.keywordsCards.length+s.lawsCards.length+s.casesCards.length+s.knowledgeCards.length+s.companyCards.length+s.lawsTiaoCards.length+s.wordCards.length}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return t},o=t().sessions,a=t().currentSessionIndex;if(null!=r&&o[a].id!=r){var i=t().historySessions,s=null,c=!0,u=!1,l=void 0;try{for(var d,f=i[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var m=d.value;if(m.id==r){s=m;break}}}catch(e){u=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}if(null!=s){n(s);var p=JSON.parse(JSON.stringify(s));p.id=s.id+"",p.topic=s.messages.length>0?s.messages[0].content:"新的聊天",p.lastUpdate=Date.now(),(0,g.lX)(p).then(function(e){}).catch(function(e){})}}else{var h=o[a].cards?getCardsLength(o[a].cards):0;n(o[a]);var v=o[a].cards?getCardsLength(o[a].cards):0;e(function(){return{sessions:o}}),h!=v&&v>0&&setTimeout(function(){t().scrollSideBarToBottom()},1e3)}},clearAllData:function(){localStorage.clear(),location.reload()},adjustLegalElementContainerAndMoreMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!1,r=document.querySelector(".legalElements-ct"),o=document.querySelector(".legalElements-ct-inner");if(r&&o){var a=document.querySelectorAll(".legalElements-ct-inner .legalElements-item-ct");e&&(a=reverseArray(a));var i=r.offsetWidth-50,s=0,c=document.querySelector("#legalElementMoreMenu");c.innerHTML="";var u=!0,l=!1,d=void 0;try{for(var f,m=a[Symbol.iterator]();!(u=(f=m.next()).done);u=!0)!function(){var e=f.value,r=e.cloneNode(!0);r.style.display="inline-flex",document.body.appendChild(r);var o=r.offsetWidth;if(document.body.removeChild(r),s+o>i?(n=!0,s+=o):e.style.display="flex",s+=o+10,n){e.style.display="none";var a=r.querySelector(".text").textContent;r.querySelector(".x-close").addEventListener("click",function(){t().deleteLegalElement(a)}),c.appendChild(r)}}()}catch(e){l=!0,d=e}finally{try{u||null==m.return||m.return()}finally{if(l)throw d}}var p=document.querySelector("#legalElementMoreIcon");c.children.length>0?p.style.display="flex":(p.style.display="none",c.style.display="none");var h=document.querySelector(".ruleBasedReasoning-content");h&&(h.scrollLeft=h.scrollWidth)}return n},deleteLegalElement:function(e){t().updateCurrentSession(function(t){t.legalElements&&(t.legalElements=t.legalElements.filter(function(t){return!t.content.endsWith(e)}));var n=!0,r=!1,o=void 0;try{for(var a,i=t.messages[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;s.labels&&(s.labels=s.labels.filter(function(t){return!t.endsWith(e)}))}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}}),t().saveOrUpdateCurrentSession(),setTimeout(function(){t().adjustLegalElementContainerAndMoreMenu(!1)},500)},saveOrUpdateCurrentSession:function(){var e=t().currentSession(),n=JSON.parse(JSON.stringify(e));n.id=e.id+"",n.topic=e.messages.length>0?e.messages[0].content:"新的聊天",n.lastUpdate=Date.now(),(0,g.lX)(n).then(function(e){}).catch(function(e){})},updateCurrentHistory:function(){if(T.get(p.KJ.User).login){var n=t().currentSession();if(0===n.messages.length)return;var r=!0,o=!1,a=void 0;try{for(var i,s=n.messages[Symbol.iterator]();!(r=(i=s.next()).done);r=!0)i.value.isEditing=!1}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}n.topic=n.messages.length>0?n.messages[0].content:"新的聊天";for(var c=t().historySessions,u=-1,l=0;l<c.length;l++){var d=c[l];if(n.id==d.id){u=l;break}}u>-1?t().copyChatSessionFiled(n,c[u]):(c.unshift(n),c.length>10&&c.splice(10)),t().setHistorySessions(c)}e(function(){return{}})},scrollSideBarToBottom:function(){var e=document.querySelector("#sidebar-body");if(e){var t=e.querySelector(".card-list");if(t){var n=t.lastChild;n&&n.scrollIntoView({behavior:"smooth",block:"start",inline:"center"})}}},copyChatSessionFiled:function(e,t){var n=Object.keys(e),r=(n=n.concat(Object.keys(t))).filter(function(e,t){return n.indexOf(e)===t}),o=!0,a=!1,i=void 0;try{for(var s,c=r[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;t[u]=e[u]}}catch(e){a=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}},deleteChatSession:function(e,n){var r=t().currentSession();(0,g.hB)(e+"").then(function(o){if(0==o.data.errCode){for(var a=-1,i=t().historySessions,s=0;s<i.length;s++)if(e==i[s].id){a=s;break}var c=t().historySessions.filter(function(t){return t.id!=e});t().setHistorySessions(c),e==r.id?0===c.length?t().newSession(!0):(a>=c.length&&(a=0),t().updateCurrentSession(function(e){t().copyChatSessionFiled(c[a],e)})):t().updateCurrentSession(function(e){}),n&&n()}else(0,u.CF)("删除失败")}).catch(function(e){(0,u.CF)("删除失败")})},getSessionById:function(e){var n=t().sessions,r=null,o=!0,a=!1,i=void 0;try{for(var s,c=n[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;if(u.id==e){r=u;break}}}catch(e){a=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}return r}}},{name:p.KJ.Chat,version:2,onRehydrateStorage:function(){},migrate:function(e,t){var n=JSON.parse(JSON.stringify(e));if(t<2){n.globalId=0,n.sessions=[];var r=e.sessions,o=!0,i=!1,s=void 0;try{for(var c,u=r[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value,d=createEmptySession();d.topic=l.topic,d.messages=(0,a._)(l.messages),n.sessions.push(d)}}catch(e){i=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw s}}}return n}}));(0,i.Ue)()((0,s.tJ)(function(e,t){return{token:"",accessCode:"",needCode:!0,hideUserApiKey:!1,openaiUrl:"/api/openai/",enabledAccessControl:function(){return t().fetch(),t().needCode},updateCode:function(t){e(function(){return{accessCode:t}})},updateToken:function(t){e(function(){return{token:t}})},isAuthorized:function(){return!0},fetch:function(){}}},{name:p.KJ.Access,version:1}))},82626:function(e,t,n){"use strict";n.d(t,{Z:function(){return withStorageDOMEvents}});var r=new WeakSet,withStorageDOMEvents=function(e,t){if(!r.has(e)){var n=e.persist.getOptions().name;r.add(e),Date.now();var storageEventCallback=function(r){r.key===n&&r.newValue&&(e.persist.rehydrate(),null==t||t())};return window.addEventListener("storage",storageEventCallback),function(){window.removeEventListener("storage",storageEventCallback)}}}},96521:function(e,t,n){"use strict";n.d(t,{$v:function(){return C},CU:function(){return getSearchRange},Cq:function(){return h},Jf:function(){return isPageNoNeedAuth},PT:function(){return g},RM:function(){return b},YL:function(){return v},cO:function(){return p},d6:function(){return usePageIdentity},dF:function(){return T},jI:function(){return mergeSxs},kv:function(){return y},lM:function(){return f},rG:function(){return S}});var r,o,a,i,s,c,u,l,d,f,m,p,h,g,v,y,S,b,C,_=n(86840),w=n(2265),E=n(45100),x=n.n(E);(r=f||(f={})).Home="/",r.WenShuDetail="/detail/:index/:id",r.SearchResult="/searchResult",r.Upgrade="/meta-upgrade",r.UserPolicy="/meta-user-policy",r.PrivatePolicy="/meta-private-policy",r.Team="/meta-team",r.UsageRecord="/usage-record",r.UserInfo="/meta-user-info",r.ShareDesc="/meta-share-desc",r.AdminShareReview="/reviewUserShare",r.OrderManagement="/order",r.Search="/search/:id",r.H5Login="/h5-login",r.AboutUs="/about-us",r.Feedback="/feedback",r.Feedbacks="/feedbacks",r.MindMapping="/mind-mapping",r.Captcha="/captcha",r.OuterPage="/outerpage",r.BrowserSetting="/browser-setting";var k=(m={},(0,_._)(m,"/meta-user-policy",{noNeedAuth:!0}),(0,_._)(m,"/meta-private-policy",{noNeedAuth:!0}),(0,_._)(m,"/detail/:index/:id",{noNeedAuth:!0}),(0,_._)(m,"/searchResult",{noNeedAuth:!0}),(0,_._)(m,"/search/:id",{noNeedAuth:!0}),(0,_._)(m,"/about-us",{noNeedAuth:!0}),(0,_._)(m,"/usage-record",{noNeedAuth:!0}),(0,_._)(m,"/h5-login",{noNeedAuth:!0}),(0,_._)(m,"/feedback",{noNeedAuth:!0}),(0,_._)(m,"/captcha",{noNeedAuth:!0}),(0,_._)(m,"/mind-mapping",{noNeedAuth:!0}),(0,_._)(m,"/outerpage",{noNeedAuth:!0}),(0,_._)(m,"/browser-setting",{noNeedAuth:!0}),m),testMatchRoutePattern=function(e,t){var n=e.replaceAll(/(\/:[^\/:]*)/g,"\\/.*");return new RegExp("^".concat(n,"$")).test(t)};function isPageNoNeedAuth(e){var t=!0,n=!1,r=void 0;try{for(var o,a=Object.keys(f)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i,s=o.value;if(testMatchRoutePattern(f[s],e))return null===(i=k[f[s]])||void 0===i?void 0:i.noNeedAuth}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return!1}function usePageIdentity(e){return(0,w.useMemo)(function(){var t=!0,n=!1,r=void 0;try{for(var o,a=Object.keys(f)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value,s=f[i];if(testMatchRoutePattern(s,e))return{path:s,pageName:i}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}},[e])}function mergeSxs(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return x()(t,function(e,t){return t?e.concat(t):e},[])}(o=p||(p={}))[o.SAFE=0]="SAFE",o[o.SUCCESS=200]="SUCCESS",o[o.NO_AUTH=401]="NO_AUTH",o[o.REMAIN_CREDIT=402]="REMAIN_CREDIT",o[o.NO_PERMISSION=403]="NO_PERMISSION",o[o.NOT_FOUND=404]="NOT_FOUND",o[o.ERROR=500]="ERROR",o[o.UNKOWN_ERROR=-500]="UNKOWN_ERROR",o[o.CREDIT_RUN_OUT=4001]="CREDIT_RUN_OUT",o[o.USER_CREDIT_RUN_OUT=4002]="USER_CREDIT_RUN_OUT",o[o.SENSITIVE_WORD=4009]="SENSITIVE_WORD",o[o.BLACK_LIST=4004]="BLACK_LIST",o[o.NEED_SUBSCRIBE=4003]="NEED_SUBSCRIBE",o[o.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",(a=h||(h={}))[a.SAFE=0]="SAFE",a[a.PHONE_DEPRECATED=1101]="PHONE_DEPRECATED",a[a.UNCLASSIFIED_5=5]="UNCLASSIFIED_5",a[a.NOT_EXIST_PHONE=2701]="NOT_EXIST_PHONE",a[a.UNCLASSIFIED_2704=2704]="UNCLASSIFIED_2704",(i=g||(g={})).Alipay="alipay",i.Wxpay="wxpay",(s=v||(v={})).h5LAWJS="H5_LAW_JS",s.h5LAW="H5_LAW",(c=y||(y={}))[c.FREE=0]="FREE",c[c.PERSONAL=1]="PERSONAL",c[c.TEAM=2]="TEAM";var T="HomeSearchInputStorageId";function getSearchRange(e){return"scholar"===e?{fill:"#9E77ED",stroke:"#F4EBFF",name:"学术",value:e}:{fill:"#2E90FA",stroke:"#D1E9FF",name:"全网",value:e}}(u=S||(S={})).SCHOLAR="scholar",u.DEFAULT="",(l=b||(b={})).ALL="all",l.ZH="zh",l.EN="en",(d=C||(C={})).ZH="zh",d.EN="en"},35069:function(e,t,n){"use strict";n.d(t,{Av:function(){return isMobileScreen},BL:function(){return filterTag},C8:function(){return formatToPreciseDate},CP:function(){return downloadAs},DI:function(){return getLocalCache},D_:function(){return isAbortError},Do:function(){return addLocalCache},Fo:function(){return isSameDate},Gy:function(){return a},HU:function(){return getShortUrlById},IA:function(){return trimClipContent},Io:function(){return formPromiseTool},Jj:function(){return throwErrorCode},KI:function(){return createHigherSpecificitySx},Kn:function(){return deferLoops},MU:function(){return logToES},Nw:function(){return o},P_:function(){return filterNewLine},Qe:function(){return formatToRecentTime},VL:function(){return autoLoginOtherProjects},Vc:function(){return mergeSxProps},X5:function(){return isWeChatBrowser},_v:function(){return sleep},dW:function(){return globalTagClickFunc},fo:function(){return isUCBrowser},gY:function(){return assembleURL},gn:function(){return isIOS},hZ:function(){return partitionObject},kn:function(){return getQQBrowserDetail},l6:function(){return formatChineseStringDate},lz:function(){return getQueryHref},oh:function(){return usermavenBuryingPoint},oj:function(){return aesEncrypt},tk:function(){return filterErrorMath},vQ:function(){return copyToClipboard},wo:function(){return T},x2:function(){return isEnPara},zk:function(){return vuetifyClassName}});var r,o,a,i=n(16687),s=n(81763),c=n(98499),u=n(50044),l=n(68076),d=n(3465),f=n(78778),m=n.n(f),p=n(98614),h=n.n(p),g=n(34646),v=n.n(g),y=n(40218),S=n.n(y),b=n(92164),C=n(25154),_=n(54112),w=n(44155),E=n.n(w),x=n(18833);function copyToClipboard(e){return _copyToClipboard.apply(this,arguments)}function _copyToClipboard(){return(_copyToClipboard=(0,i._)(function(e){var t,n,r,o,a,i,s=arguments;return(0,u.Jh)(this,function(c){switch(c.label){case 0:t=s.length>1&&void 0!==s[1]&&s[1],n=s.length>2?s[2]:void 0,r=e,(o=document.createElement("div")).style.display="none",o.innerHTML=r,document.body.appendChild(o),a=o.textContent,document.body.removeChild(o),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(a)];case 2:return c.sent(),[3,4];case 3:c.sent(),(i=document.createElement("textarea")).value=a,i.setAttribute("readonly","readonly"),n?n.appendChild(i):document.body.appendChild(i),i.focus(),i.select();try{document.execCommand("copy")}catch(e){throw t||(0,l.CF)(d.ZP.Copy.Failed),d.ZP.Copy.Failed}return n?n.removeChild(i):document.body.removeChild(i),[3,4];case 4:return[2]}})})).apply(this,arguments)}function downloadAs(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function isIOS(){var e=navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)}function isMobileScreen(){return window.innerWidth<=600}var k=null;function isWeChatBrowser(){return"undefined"!=typeof document&&(null==k&&(k=[/miniProgram/i,/WeChat/i,/micromessenger/i].some(function(e){var t;return e.test(null===(t=navigator)||void 0===t?void 0:t.userAgent)})),k)}function isUCBrowser(){return/UCBrowser/i.test(navigator.userAgent)}function formatToRecentTime(e){if(!e)return"";e instanceof Date||(e=new Date(e));var t,n,r=new Date,o=r.getTime()-e.getTime();function getMonth(e){return(e.getMonth()+1).toString().padStart(2,"0")}function getDay(e){return e.getDate().toString().padStart(2,"0")}function getHours(e){return e.getHours().toString().padStart(2,"0")}function getMinutes(e){return e.getMinutes().toString().padStart(2,"0")}return o<0?"".concat(e.getFullYear(),"年").concat(getMonth(e),"月").concat(getDay(e),"日 ").concat(getHours(e),":").concat(getMinutes(e),":").concat(e.getSeconds().toString().padStart(2,"0")):o<6e4?"刚刚":o<36e5?"".concat(Math.floor(o/6e4),"分钟前"):(t=e,r.getFullYear()===t.getFullYear()&&r.getMonth()===t.getMonth()&&r.getDate()===t.getDate())?"今天 ".concat(getHours(e),":").concat(getMinutes(e)):(n=e,r.getFullYear()===n.getFullYear())?"".concat(getMonth(e),"月").concat(getDay(e),"日 ").concat(getHours(e),":").concat(getMinutes(e)):"".concat(e.getFullYear(),"年").concat(getMonth(e),"月").concat(getDay(e),"日 ").concat(getHours(e),":").concat(getMinutes(e))}function formatToPreciseDate(e,t){if(!e)return"";var n=(e=new Date(e)).getFullYear(),r=("0"+(e.getMonth()+1)).slice(-2),o=("0"+e.getDate()).slice(-2),a=("0"+e.getHours()).slice(-2),i=("0"+e.getMinutes()).slice(-2),s=("0"+e.getSeconds()).slice(-2);return t?t.replace("yyyy",n+"").replace("MM",r+"").replace("dd",o+"").replace("HH",a).replace("mm",i).replace("ss",s):"".concat(n,"-").concat(r,"-").concat(o," ").concat(a,":").concat(i,":").concat(s)}function vuetifyClassName(e,t){var n="";function siftClassString(e){return Object.keys(e).filter(function(t){return!!e[t]}).join(" ")}return Array.isArray(e)?n+=e.filter(Boolean).flatMap(v()).join(" "):n+=siftClassString(e),t&&(n+=" "+siftClassString(t)),n}var T=isWeChatBrowser;function partitionObject(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=new Set(Object.keys(e));return n.reduce(function(t,r,a){var i=Object.fromEntries(r.map(function(t){return o.delete(t),[t,e[t]]}));return t.push(i),a===n.length-1&&t.push(Object.fromEntries(Array.from(o).map(function(t){return[t,e[t]]}))),t},[])}function assembleURL(e,t){return e.split("/").map(function(e){return e.startsWith(":")&&t[e.slice(1)]||e}).join("/")}function sleep(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise(function(t){setTimeout(t,e)})}var trimClipContent=function(e,t){return(e=e.trim()).length<t?e:e.substring(0,t)+"..."};(o||(o={})).get=function(e,t,n){return"function"==typeof e?e.apply(void 0,(0,c._)([].concat(t))):e};var throwErrorCode=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"exclude";t="errCode"in e.data&&!("code"in e.data)?e.data.errCode:e.data.code,n=h()(e.data,"msg")||h()(e.data,"errMsg")||"未知错误";var a=r.includes(t);if("exclude"===o){if(a)return e;throw Error(n)}if(!a)return e;throw Error(n)};function deferLoops(e,t,n){var r=formPromiseTool(),o=r.done,a=r.resolve;return!function tick(r){r<n?m()(tick,r+1):a(e.apply(void 0,(0,c._)(t)))}(0),o}function logToES(e){return _logToES1.apply(this,arguments)}function _logToES1(){return(_logToES1=(0,i._)(function(e){var t,n,r,o,a,i,s;return(0,u.Jh)(this,function(c){try{if("otherPageOnLine"==e.event_name||(t=new Date,(n=new Date).setFullYear(t.getUTCFullYear()),n.setMonth(t.getUTCMonth()),n.setDate(t.getUTCDate()),n.setHours(t.getUTCHours()),n.setMinutes(t.getUTCMinutes()),n.setSeconds(t.getUTCSeconds()),r=C.ZP.load("traceid"),o=C.ZP.load("sid"),a=C.ZP.load("uid"),!(i=(0,x.ZD)())))return[2];s=S()({event_name:"",project_name:i.projectName,traceid:r,sid:o,user_id:a,text:"",value:1,timestamp:Math.floor(n.getTime()/1e3)},e),(0,_.sS)(s).then(function(e){}).catch(function(e){})}catch(e){}return[2]})})).apply(this,arguments)}function globalTagClickFunc(e,t,n){return _globalTagClickFunc.apply(this,arguments)}function _globalTagClickFunc(){return(_globalTagClickFunc=(0,i._)(function(e,t,n){var r,o;return(0,u.Jh)(this,function(a){return(r=(0,x.ZD)())&&"DEV"!==r.deployType&&(o={event_name:e,text:JSON.stringify(t),project_name:r.projectName,value:1},n&&(o.extra=JSON.stringify(n)),logToES(o)),[2]})})).apply(this,arguments)}function formPromiseTool(){var e,t;return{done:new Promise(function(n,r){e=n,t=r}),resolve:e,reject:t}}(r=a||(a={})).QuestionAssociationTabClicked="questionAssociationTabClicked",r.MindMappingTabClicked="mindMappingTabClicked",r.QuestionAssociationItemClicked="questionAssociationItemClicked",r.MindMappingReferenceError="mindMappingReferenceError",r.GoToXiezuocatWrite="goToXiezuocatWrite",r.GoToXiezuocatWriteFailed="goToXiezuocatWriteFailed",r.ExportToXiezuocat="exportToXiezuocat",r.ExportToXiezuocatFailed="exportToXiezuocatFailed",r.NETWORK_INTERCEPTOR_ERROR="network_interceptor_error",r.SEARCH_MODE_ERROR="search_mode_error",r.CREATE_SESSION_TIME_LOG="metaso_create_session_time_log",r.GET_SESSION_TIME_LOG="metaso_get_session_time_log",r.WX_SDK_SHARE_CONFIG_GET_ERROR="metaso_wx_sdk_share_config_get_error",r.SEARCH_SKELETON_DISAPPEAR_TIME_TOO_LONG="metaso_search_skeleton_disappear_time_too_long",r.MIND_MAPPING_REQUEST_ERROR="mind_mapping_request_error",r.MIND_MAPPING_LOAD_DATA_ERROR="mind_mapping_load_data_error";var autoLoginOtherProjects=function(e){try{if(null==e)return;var addIFrame=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=document.createElement("iframe");n.style.display="none",n.setAttribute("src",t+e),document.body.appendChild(n)},t=(0,x.ZD)();(null==t?void 0:t.deployType)==="RELEASE"&&(addIFrame("https://meta.law/autologin?sid="),addIFrame("https://xiezuocat.com/static/login/autologin.html?sid="))}catch(e){}};function aesEncrypt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"XwKsGlMcdPMEhR1B",n=E().enc.Utf8.parse(t),r=E().enc.Utf8.parse(e);return E().AES.encrypt(r,n,{mode:E().mode.ECB,padding:E().pad.Pkcs7}).toString()}function isAbortError(e){return"AbortError"===e.name||e instanceof b.ty}function isSameDate(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}var getShortUrlById=function(e){return"https://metaso.cn/s/"+e};function pad(e){return e.toString().padStart(2,"0")}function formatChineseStringDate(e,t){var n=/[年月日]/;e.match(/\d{4}-\d{1,2}-\d{1,2}/)&&(n=/-/);var r=e.split(n),o=r[0],a=parseInt(r[1]),i=parseInt(r[2]);return"".concat(o).concat(a?"".concat(t).concat(pad(a)):"").concat(i?"".concat(t).concat(pad(i)):"")}function filterNewLine(e){return e?e.replaceAll("\n"," ").trim():""}function filterErrorMath(e){return e.replaceAll(/(\${1,2})([^$`]+)(\${1,2})/g,function(e,t,n,r){return 1==t.length&&1==r.length&&(n.match(/[\u4e00-\u9fa5]/g)||n.match(/<span/g))?"&#36;"+n+"&#36;":e}).replaceAll(/`+[^`]+`+/g,function(e){return e.replaceAll("&#36;","$")})}function filterTag(e){return e.replaceAll(/<(\/*)([^>]+)>/g,function(e,t,n){return"&lt;"+t+n+"&gt;"}).replaceAll(/`+[^`]+`+/g,function(e){return e.replaceAll("&lt;","<").replaceAll("&gt;",">")})}function isEnPara(e){var t=0,n=0;return(0,c._)(e).forEach(function(e){e>="a"&&e<="z"||e>="A"&&e<="Z"?t++:e>="一"&&e<="龥"&&n++}),n<t}function createHigherSpecificitySx(e){return function transform(e){return Array.isArray(e)?e.map(function(e){return transform(e)}):"function"==typeof e?function(t){return{"&[class]":e(t)}}:{"&[class]":e}}(e)}function usermavenBuryingPoint(e){try{window.usermaven("track",e)}catch(e){}}var M={isQQ:!1,version:0};function getQQBrowserDetail(){var e=navigator.userAgent,t=e.match(/MQQBrowser\/(\d+(?:\.\d+)?)/i),n=t?parseFloat(t[1]):0,r=!!t&&!/micromessenger/i.test(e)&&!/QQ\/([\d\.]+)/.test(e);return r?{isQQ:r,version:n}:M}function getQueryHref(e,t){var n=new URL(e);return Object.entries(t).forEach(function(e){var t=(0,s._)(e,2),r=t[0],o=t[1];if(void 0!==o&&"undefined"!==o&&null!==o&&"null"!==o){if(o instanceof Array){var a=!0,i=!1,c=void 0;try{for(var u,l=o[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var d=u.value;n.searchParams.append(r,d)}}catch(e){i=!0,c=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw c}}}else n.searchParams.set(r,o)}}),n.href}function mergeSxProps(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length)return t.reduce(function(e,t){return t?Array.isArray(e)&&!e.length?t:(0,c._)(Array.isArray(e)?e:[e]).concat((0,c._)(Array.isArray(t)?t:[t])):e},[])}function getLocalCache(e){var t=localStorage.getItem(e),n=new Map;return t?(JSON.parse(t).forEach(function(e){n.set(e.key,e)}),n):new Map}function addLocalCache(e,t,n,r){var o=Array.from(getLocalCache(e).values());o.push({key:t,item:n}),o.length>r&&o.splice(0,1),localStorage.setItem(e,JSON.stringify(o))}},82748:function(e,t,n){"use strict";n.d(t,{F:function(){return useIsMobileStatic},I1:function(){return useTextareaActions},U8:function(){return useInnerProp},Vo:function(){return useDocumentEventListener},a8:function(){return useHasHydrated},fl:function(){return useHasHydratedRef},g4:function(){return useUIDismiss},j5:function(){return useCachedState},mY:function(){return createTapEventHandlerProps},mk:function(){return w},pm:function(){return getQuery},sd:function(){return useQQBrowserDetail}});var r=n(16687),o=n(22977),a=n(81763),i=n(98499),s=n(50044),c=n(2265);n(16586);var u=n(44388),l=n.n(u),d=n(45100),f=n.n(d),m=n(87269),p=n.n(m);n(24033);var h=n(70067),g=n(378),v=n(46849),y=n(35069),S=h.ZP.rgb(255,255,255).bgHex("#cf8e6d"),b=h.ZP.rgb(255,255,255).bgBlueBright,C=b("useInnerProp: "),useHasHydrated=function(){var e=(0,a._)((0,c.useState)(!1),2),t=e[0],n=e[1];return(0,c.useEffect)(function(){n(!0)},[]),t},useHasHydratedRef=function(){var e=(0,c.useRef)(!1);return(0,c.useEffect)(function(){e.current=!0},[]),e},useQQBrowserDetail=function(){var e=(0,a._)((0,c.useState)({isQQ:!1,version:0}),2),t=e[0],n=e[1];return(0,c.useLayoutEffect)(function(){n((0,y.kn)())},[]),t};function useInnerProp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isControlled:!0},r=n.onChanged,o=n.onChange,s=(n.id,n.isControlled),u=void 0===s||s,l=(0,c.useState)(void 0!==e?e:t),d=(0,a._)(l,2),f=d[0],m=d[1],p=(0,c.useRef)(f),h=(0,c.useRef)("undefined"!==e?"external":"default"),v=(0,c.useRef)(!1);(0,c.useEffect)(function(){if(void 0===e){v.current;return}h.current="external",m(e)},[e]);var y=useHasHydrated();(0,c.useEffect)(function(){p.current=f,(void 0!==f||!v.current)&&y&&(v.current=!0,null==r||r(f,h.current))},[f]);var b=(0,c.useRef)(o);(0,c.useEffect)(function(){b.current=o},[o]);var _=[f,function(t){var n,r="function"==typeof t?t(f):t;return(p.current!==r&&(null===(n=b.current)||void 0===n||n.call(b,r)),void 0!==e&&u)?(g.yG&&console.log(C+S("(可忽略) 组件已有外部的状态(controlled component),不能再通过内部的set方法设置状态")),!1):(m(t),h.current="inner",!0)}];return(0,i._)(_).concat([h.current])}var _=function(){function CachedStateStack(e){(0,o._)(this,CachedStateStack),this.cached=Array.from(e||[])}var e=CachedStateStack.prototype;return e.pop=function(){return this.cached.pop()},e.push=function(e){return this.cached.push(e)},e.peek=function(){return l()(this.cached)},e.clear=function(){this.cached=[]},CachedStateStack}();function useCachedState(e,t){var n=(0,a._)((0,c.useState)(e),2),r=n[0],o=n[1],i=(0,c.useCallback)(function(e){l.current="inner",o(e)},[]),s=(0,c.useRef)(!1),u=(0,c.useDeferredValue)(r),l=(0,c.useRef)("default"),d=(0,c.useMemo)(function(){return p()(function(e){m.current.push(e)},300)},[]);(0,c.useEffect)(function(){"external"!==l.current||s.current||(f.current.clear(),d(u))},[r,d]);var f=(0,c.useRef)(new _),m=(0,c.useRef)(new _),h=(0,c.useCallback)(function(e,n){if(void 0===e)return null==t||null===(a=t.afterStackChange)||void 0===a||a.call(t,e,n,!1,l.current),!1;var o,a,s=null==t?void 0:t.beforeStackChange,c=void 0===s?e:s(e,n,l.current);return n.push(r),i(c),null==t||null===(o=t.afterStackChange)||void 0===o||o.call(t,c,n,!0,l.current),!0},[r,null==t?void 0:t.beforeStackChange,o]);return[r,function(e){l.current="external",o(e)},l.current,{redo:function(){return!s.current&&h(f.current.pop(),m.current)},undo:function(){return d.cancel(),!s.current&&h(m.current.pop(),f.current)},switch:function(e){s.current=void 0===e?!s.current:!e},getStacks:function(){return{redo:f.current,undo:m.current}}},s]}function getQuery(){var e=(0,a._)(location.href.split("?"),2),t=(e[0],e[1]);return new URLSearchParams(t)}b("useHashQuery: ");var useDocumentEventListener=function(e,t,n){var r=(0,c.useRef)();return(0,c.useEffect)(function(){document.addEventListener(e,t,n);var dismissFn=function(){document.removeEventListener(e,t)};return r.current=dismissFn,dismissFn},[e,t,n]),function(){var e;null===(e=r.current)||void 0===e||e.call(r)}};function useTextareaActions(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,c.useRef)(!1),o=(0,c.useRef)(!0);return{onKeyDown:function(a){return(0,r._)(function(){return(0,s.Jh)(this,function(r){return o.current?"Enter"!==a.key||n.current||t||a.shiftKey||(a.preventDefault(),e()):o.current=!0,[2]})})()},onCompositionStart:function(e){n.current=!0},onCompositionEnd:function(e){o.current=!e.nativeEvent.isTrusted,n.current=!1}}}var w=void 0;function useIsMobileStatic(){return(0,c.useMemo)(function(){return void 0===w&&"undefined"!=typeof navigator&&(w=(0,v.pb)(navigator.userAgent)),w},[])}var createTapEventHandlerProps=function(e){return{onClick:function(t){e()}}};function getElement(e){return"current"in e&&e.current instanceof Element?e.current:e}function useUIDismiss(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"click",o=(0,c.useMemo)(function(){return"undefined"==typeof document?[]:Array.isArray(n)?f()(n,function(e,t){return(0,i._)(e).concat([getElement(t)])},[]):[getElement(n)]},[n]),a=(0,c.useRef)(null),s=(0,c.useRef)(function(){});return(0,c.useEffect)(function(){if(e){var listener=function(e){var n=e.target;o.some(function(e){if(n instanceof Node)return e.contains(n)})||(t(e),s.current())};return a.current=listener,document.addEventListener(r,listener),s.current=function(){document.removeEventListener(r,listener)}}},[e,o,t,r]),s}},23670:function(e,t,n){"use strict";var r,o;n.d(t,{a:function(){return r}}),(o=r||(r={})).InjectCookie="jc",o.LogOut="lo",o.ExportReport="er",o.ExportMind="epm",o.HomeInputSetting="his",o.ShareInfo="si"},46849:function(e,t,n){"use strict";function checkMobileByUA(e){return!!e&&!!e.match(/(phone|pod|iPhone|iPod|ios|Android|Mobile|MicroMessenger|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}function getWxApi(){return n.e(6806).then(n.t.bind(n,56806,23)).then(function(e){return e.default})}function downloadByMiniNative(e,t){getWxApi().then(function(n){var r=e.replace(/[\/:]/g,"_");n.miniProgram.navigateTo({url:"/pages/Download?n="+encodeURIComponent(r)+"&d="+encodeURIComponent(t)})})}n.d(t,{hk:function(){return downloadByMiniNative},mH:function(){return getWxApi},pb:function(){return checkMobileByUA}})},8066:function(){},94477:function(e){e.exports={"icon-button":"button_icon-button__VwAMf",primary:"button_primary__dwYZ6",shadow:"button_shadow__G4m_0",border:"button_border__F3gcK","icon-button-icon":"button_icon-button-icon__AMZta","icon-button-text":"button_icon-button-text__my76e"}},55740:function(e){e.exports={"meta-dialog-mask":"MetaDialog_meta-dialog-mask__rdDcL","meta-dialog":"MetaDialog_meta-dialog__5J2CZ",title:"MetaDialog_title__kv8e5","title-text":"MetaDialog_title-text__socxx",confirm:"MetaDialog_confirm__cDpKr",content:"MetaDialog_content__Pw_vP",footer:"MetaDialog_footer__J2Bfe","phonecode-btn":"MetaDialog_phonecode-btn__tK_fl"}},14538:function(e){e.exports={card:"ui-lib_card__7vhpy",popover:"ui-lib_popover___HGhK","popover-content":"ui-lib_popover-content__DAsxM","slide-in":"ui-lib_slide-in__1VMXW","popover-mask":"ui-lib_popover-mask__HfrgX","list-item":"ui-lib_list-item__YH0DO","list-header":"ui-lib_list-header__RwThu","list-icon":"ui-lib_list-icon__HuWqu","list-item-title":"ui-lib_list-item-title__Fsa9c","list-item-sub-title":"ui-lib_list-item-sub-title__jSgHb",list:"ui-lib_list__1KN23","modal-container":"ui-lib_modal-container__V07hJ","modal-header":"ui-lib_modal-header__ez8kk","modal-title":"ui-lib_modal-title__uDyyZ","modal-close-btn":"ui-lib_modal-close-btn__cHeFn","modal-content":"ui-lib_modal-content___F0dm","modal-footer":"ui-lib_modal-footer__U6Gef","modal-actions":"ui-lib_modal-actions__Ag5eX","modal-action":"ui-lib_modal-action__o5vae",show:"ui-lib_show__Oyrs0",hide:"ui-lib_hide__HRR6J","toast-container":"ui-lib_toast-container__t7drF","toast-content":"ui-lib_toast-content__gUAwT","toast-action":"ui-lib_toast-action__fBR8E",input:"ui-lib_input__5JXLJ","select-with-icon":"ui-lib_select-with-icon__L6FLF","select-with-icon-select":"ui-lib_select-with-icon-select__JhHwp","select-with-icon-icon":"ui-lib_select-with-icon-icon__7R2_b","slide-in-from-top":"ui-lib_slide-in-from-top__cfJKh"}}}]);